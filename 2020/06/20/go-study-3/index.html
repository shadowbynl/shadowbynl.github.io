<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>go-study-3 | Memory</title>
  <meta name="description" content="Go基础学习其三">
<meta property="og:type" content="article">
<meta property="og:title" content="go-study-3">
<meta property="og:url" content="http://nlbyd1119.online/2020/06/20/go-study-3/index.html">
<meta property="og:site_name" content="Memory">
<meta property="og:description" content="Go基础学习其三">
<meta property="og:locale" content="zh">
<meta property="article:published_time" content="2020-06-20T09:18:37.000Z">
<meta property="article:modified_time" content="2020-06-23T11:27:42.959Z">
<meta property="article:author" content="nlby">
<meta property="article:tag" content="Go">
<meta name="twitter:card" content="summary">
  <!-- Canonical links -->
  <link rel="canonical" href="http://nlbyd1119.online/2020/06/20/go-study-3/index.html">
  
    <link rel="alternate" href="/atom.xml" title="Memory" type="application/atom+xml">
  
  
    <link rel="icon" href="https://i.loli.net/2020/09/12/4y1TBOItE9w8WFq.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitment@0.0.3/style/default.min.css">
  
  
  
<meta name="generator" content="Hexo 4.2.0"></head>


<body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="https://github.com/nlby" target="_blank">
          <img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">nlby</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md"></h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> NanJing, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="Search" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="Type something..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav ">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">Home</span>
          </a>
        </li>
        
      </ul>
      
	

	  <embed src="https://jxiaoc.github.io/animeMusic/demo.html" width="100%"/>
	  <iframe frameborder="no" border="0" marginwidth="0"
						marginheight="0" width="100%" height=86 src="//music.163.com/outchain/player?type=0&id=4872500795&auto=0&height=66">
	  </iframe>
    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">Board</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p>记录和总结一下学习过程及其他</p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">Categories</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/2005/">2005</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/2006/">2006</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/2007/">2007</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/2008/">2008</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/2009/">2009</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/2011/">2011</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/2012/">2012</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/2013/">2013</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/2014/">2014</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/2017/">2017</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/70/">70</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flask/">Flask</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JSP/">JSP</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/NoSql/">NoSql</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ORM/">ORM</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web%E6%A1%86%E6%9E%B6/">Web框架</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/css/">css</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/fabric/">fabric</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/live2d/">live2d</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/numpy/">numpy</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/pandas/">pandas</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/plot/">plot</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%85%A8%E9%83%A8%E6%88%90%E4%B8%BAF/">全部成为F</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%86%99%E6%B3%95/">写法</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8A%9F%E8%83%BD%E7%82%B9%E5%AD%A6%E4%B9%A0/">功能点学习</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%9F%BA%E7%A1%80/">基础</a><span class="category-list-count">19</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AE%89%E5%85%A8/">安全</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AE%B9%E5%99%A8/">容器</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/">工具使用</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8E%A7%E5%88%B6%E5%99%A8/">控制器</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/">数据可视化</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%97%A5%E5%BF%97/">日志</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%A1%86%E6%9E%B6/">框架</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%A1%86%E6%9E%B6%E4%BD%BF%E7%94%A8/">框架使用</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%A6%82%E5%BF%B5/">概念</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%A8%A1%E6%9D%BF/">模板</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%88%AC%E8%99%AB/">爬虫</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E5%B7%A5%E5%85%B7/">版本控制工具</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%8C%AB%E8%85%BB/">猫腻</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%8E%AF%E5%A2%83/">环境</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/">环境配置</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%A1%AC%E4%BB%B6/">硬件</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%A7%BB%E5%8A%A8%E5%B8%83%E5%B1%80/">移动布局</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%B0%E5%BD%95/">记录</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%BA%E6%96%87/">论文</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%9A%8F%E7%AC%94/">随笔</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Tags</h3>
    <div class="widget-body">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Go/" rel="tag">Go</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaWeb/" rel="tag">JavaWeb</a><span class="tag-list-count">34</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python-Science/" rel="tag">Python Science</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PythonWeb/" rel="tag">PythonWeb</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/" rel="tag">android</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql/" rel="tag">sql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/" rel="tag">区块链</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6/" rel="tag">博客框架</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A3%B0%E4%BC%98%E8%AE%B0%E5%BD%95/" rel="tag">声优记录</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%8F%E8%AF%B4%E6%95%B4%E7%90%86/" rel="tag">小说整理</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%BB%E7%BB%93/" rel="tag">总结</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%88%E6%9E%9C/" rel="tag">效果</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" rel="tag">机器学习</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" rel="tag">正则表达式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%95%AA%E5%89%A7%E8%AE%B0%E5%BD%95/" rel="tag">番剧记录</a><span class="tag-list-count">18</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%80%9A%E7%94%A8/" rel="tag">通用</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a><span class="tag-list-count">10</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget-body tagcloud">
      <a href="/tags/Go/" style="font-size: 13.44px;">Go</a> <a href="/tags/JavaWeb/" style="font-size: 14px;">JavaWeb</a> <a href="/tags/Python-Science/" style="font-size: 13.56px;">Python Science</a> <a href="/tags/PythonWeb/" style="font-size: 13.33px;">PythonWeb</a> <a href="/tags/android/" style="font-size: 13.78px;">android</a> <a href="/tags/sql/" style="font-size: 13px;">sql</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 13.22px;">前端</a> <a href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/" style="font-size: 13.33px;">区块链</a> <a href="/tags/%E5%8D%9A%E5%AE%A2%E6%A1%86%E6%9E%B6/" style="font-size: 13px;">博客框架</a> <a href="/tags/%E5%A3%B0%E4%BC%98%E8%AE%B0%E5%BD%95/" style="font-size: 13px;">声优记录</a> <a href="/tags/%E5%B0%8F%E8%AF%B4%E6%95%B4%E7%90%86/" style="font-size: 13.11px;">小说整理</a> <a href="/tags/%E6%80%BB%E7%BB%93/" style="font-size: 13.33px;">总结</a> <a href="/tags/%E6%95%88%E6%9E%9C/" style="font-size: 13px;">效果</a> <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" style="font-size: 13px;">机器学习</a> <a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 13px;">正则表达式</a> <a href="/tags/%E7%95%AA%E5%89%A7%E8%AE%B0%E5%BD%95/" style="font-size: 13.89px;">番剧记录</a> <a href="/tags/%E9%80%9A%E7%94%A8/" style="font-size: 13px;">通用</a> <a href="/tags/%E9%9A%8F%E7%AC%94/" style="font-size: 13.67px;">随笔</a>
    </div>
  </div>

    
      
  <div class="widget">
    <h3 class="widget-title">Archive</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a><span class="archive-list-count">51</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a><span class="archive-list-count">25</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a><span class="archive-list-count">13</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E5%9F%BA%E7%A1%80/">基础</a>
              </p>
              <p class="item-title">
                <a href="/2020/09/29/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%9F%BA%E7%A1%80%E4%B8%8Ejs%E4%B8%AD%E5%BA%94%E7%94%A8/" class="title">正则表达式基础与js中应用</a>
              </p>
              <p class="item-date">
                <time datetime="2020-09-29T12:15:01.000Z" itemprop="datePublished">2020-09-29</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E5%9F%BA%E7%A1%80/">基础</a>
              </p>
              <p class="item-title">
                <a href="/2020/09/27/%E5%85%B3%E4%BA%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%92%8C%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" class="title">关于机器学习和深度学习</a>
              </p>
              <p class="item-date">
                <time datetime="2020-09-27T08:28:05.000Z" itemprop="datePublished">2020-09-27</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E9%9A%8F%E7%AC%94/">随笔</a>
              </p>
              <p class="item-title">
                <a href="/2020/09/26/%E5%9F%BA%E6%9C%AC%E6%A8%A1%E5%BC%8F%E4%B8%8E%E7%9B%B8%E5%85%B3%E6%8A%80%E6%9C%AF%E3%80%81%E9%97%AE%E9%A2%98/" class="title">基本模式与相关技术、问题</a>
              </p>
              <p class="item-date">
                <time datetime="2020-09-26T06:45:09.000Z" itemprop="datePublished">2020-09-26</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E5%9F%BA%E7%A1%80/">基础</a>
              </p>
              <p class="item-title">
                <a href="/2020/09/15/%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8E%A7%E4%BB%B6%E5%85%B6%E4%B8%80/" class="title">自定义控件其一</a>
              </p>
              <p class="item-date">
                <time datetime="2020-09-15T14:47:05.000Z" itemprop="datePublished">2020-09-15</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E5%8A%9F%E8%83%BD%E7%82%B9%E5%AD%A6%E4%B9%A0/">功能点学习</a>
              </p>
              <p class="item-title">
                <a href="/2020/09/15/zimug_study_index/" class="title">zimug_study_index</a>
              </p>
              <p class="item-date">
                <time datetime="2020-09-15T12:46:31.000Z" itemprop="datePublished">2020-09-15</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
	<!------ 位置可自定义 ------>
<div class="Canvas" style="position: fixed; right: 0px; bottom: 0px;z-index: 99999999" id="L2dCanvas"></div>

<!------ 依赖 JS | Dependent JS ------>
<!---- 可选 | Optional ---->
<!-- 兼容低版本浏览器 | Compatible with low-level browsers -->
<script src="https://cdn.jsdelivr.net/npm/promise-polyfill@8/dist/polyfill.min.js"> </script>
<!-- 音频播放兼容 | Audio playback compatible -->
<script src="https://cdn.jsdelivr.net/npm/howler@2.1.3/dist/howler.min.js"></script>
<!---- 必需 | Required ---->
<script src="https://cdn.jsdelivr.net/gh/nlby/live2dCDN@1.0.2/static/live2dcubismcore.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/pixi.js@4.6.1/dist/pixi.min.js"></script>
<!-- live2dv3.js -->
<script src="https://cdn.jsdelivr.net/gh/nlby/live2dCDN@1.0.2/static/live2dv3.js"></script>

<!------ 加载Live2d模型 | Load Live2d model ------>	
<script>
    window.onload = () => {
        new l2dViewer({
             el: document.getElementById('L2dCanvas'),
                basePath: 'https://cdn.jsdelivr.net/gh/Eikanya/live2dCDN@1.2.1/live2dv3/assets', // 模型根目录
                modelName: 'xuefeng_3', // 模型目录
                sizeLimit: false,
                mobileLimit: false
            
            
        })
    }
</script>
  </div>
</aside>

  
  
<main class="main" role="main">
  <div class="content">
  <article id="post-go-study-3" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      go-study-3
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2020/06/20/go-study-3/" class="article-date">
	  <time datetime="2020-06-20T09:18:37.000Z" itemprop="datePublished">2020-06-20</time>
	</a>
</span>
        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/%E5%9F%BA%E7%A1%80/">基础</a>
  </span>

        
  <span class="article-tag">
    <i class="icon icon-tags"></i>
	<a class="article-tag-link" href="/tags/Go/" rel="tag">Go</a>
  </span>


        

        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2020/06/20/go-study-3/#comments" class="article-comment-link">Comments</a></span>
        
      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <p><strong>Go基础学习其三</strong></p>
<a id="more"></a>
<p>2020.6.20-21 学习了go复合类型中的数组Array、切片Slice、集合Map、函数function，此外还学习了基本类型string相关的包中的函数。先记录一下我在学习时觉得需要注意的点，然后copy千锋的笔记和代码。<br><strong>个人笔记</strong><br><strong>一、数组</strong></p>
<ol>
<li>数组的创建方式</li>
<li>遍历方式 for index, value := range 数组变量 {}</li>
<li>数组是值类型，与c类似，与java、python不同。但注意数组类型就是[n]type类型，而非像c一样的指针之类的。</li>
<li>数组作为值类型，可以在类型、元素个数相等的情况下进行比较，逐位比较。</li>
<li>go的数组元素交换方式，可以写成 a, b = b, a</li>
</ol>
<p><strong>二、切片（列表）</strong></p>
<ol>
<li>切片的创建方式，一种是类似数组但不知道元素个数，一种是使用内置make函数。make函数可用来创建go中的引用类型（不包括自定义）。</li>
<li>内置函数append用于给切片追加元素。</li>
<li>遍历方式同数组。</li>
<li>切片的底层实际即为数组，切片变量作为引用类型，存放着底层数组的地址，通过fmt.Printf(“%p”, s)可直接打印其底层数组的地址，而数组作为值类型，打印地址还需取地址&amp;a。切片每次扩容时不超过底层数组的长度，其指向的底层数组不变，若超过，会创建一个新的数组。</li>
<li>在已有数组上创建切片，切面的属性与元素值与数组的关系。</li>
<li>切片作为引用类型，默认为浅拷贝。实现切片深拷贝的方法：逐一拷贝元素，使用内置函数copy。</li>
</ol>
<p><strong>三、集合Map</strong></p>
<ol>
<li>Map创建时不初始化其值为nil，即其他语言中的null，此后也无法存放键值对。因此使用map关键字创建时必须同时初始化map[key_type]value_type{xxx:xx}，或者采用推荐的做法由make函数创建。</li>
<li>map的使用：存储、获取（返回value,ok）、修改、删除（使用内置函数delete）。</li>
<li>遍历方式。无序遍历：for k, v := range map{}。实现按键有序遍历，就需要先把键都取出来，然后用sort包中的方法排序后进行map遍历。</li>
</ol>
<p><strong>四、字符串相关包</strong></p>
<ol>
<li>内置函数 len()获得的是字节数</li>
<li>strings包</li>
<li>strconv包</li>
</ol>
<p><strong>五、函数function</strong></p>
<ol>
<li>函数定义在调用处上下均可，不需额外声明。</li>
<li>参数 n type 多个参数的类型一致，可以简写。</li>
<li>可变参 arg ..type 切片s… 表示切片中的全部元素。一个函数的参数列表只能有一个可变参数，且位置应在最后。</li>
<li>返回值：位置类似于js。可以只给出类型，也可以指定名称，这样在return时，不用专门return xxx。空白标识符_用来舍弃返回值。</li>
<li>全局变量不支持简短定义。</li>
<li>递归函数。看源代码 发现go的一个包下即便是不同文件也不能定义名字相同的函数，这与导包时以包为单位而非以文件为单位的做法一致。</li>
<li>defer延迟函数。先被defer的函数后执行。注意defer是延迟执行而非延迟调用延迟传参。</li>
<li>函数的数据类型：func(参数列表的数据类型)(返回值列表的数据类型)。函数的本质：函数名：指向函数体的内存地址；函数名()：将函数进行调用，函数中的代码会全部执行，然后将return的结果返回给调用处。</li>
<li>匿名函数</li>
<li>go语言支持函数式编程的两个体现：支持将一个函数作为另一个函数的参数即回调函数；支持将一个函数作为另一个函数的返回值即闭包。</li>
</ol>
<p><strong>笔记</strong></p>
<h1 id="一、数组-Array"><a href="#一、数组-Array" class="headerlink" title="一、数组(Array)"></a>一、数组(Array)</h1><blockquote>
<p>@author：韩茹</p>
<p>版权所有：北京千锋互联科技有限公司</p>
</blockquote>
<h2 id="1-1-什么是数组"><a href="#1-1-什么是数组" class="headerlink" title="1.1 什么是数组"></a>1.1 什么是数组</h2><p>Go 语言提供了数组类型的数据结构。<br>数组是具有相同唯一类型的一组已编号且长度固定的数据项序列，这种类型可以是任意的原始类型例如整形、字符串或者自定义类型。</p>
<p>数组元素可以通过索引（位置）来读取（或者修改），索引从0开始，第一个元素索引为 0，第二个索引为 1，以此类推。数组的下标取值范围是从0开始，到长度减1。</p>
<p>数组一旦定义后，大小不能更改。</p>
<h2 id="1-2-数组的语法"><a href="#1-2-数组的语法" class="headerlink" title="1.2 数组的语法"></a>1.2 数组的语法</h2><p><strong>声明和初始化数组</strong></p>
<p>需要指明数组的大小和存储的数据类型。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> variable_name [SIZE] variable_type</span><br></pre></td></tr></table></figure>

<p>示例代码：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> balance [<span class="number">10</span>] <span class="keyword">float32</span></span><br><span class="line"><span class="keyword">var</span> balance = [<span class="number">5</span>]<span class="keyword">float32</span>&#123;<span class="number">1000.0</span>, <span class="number">2.0</span>, <span class="number">3.4</span>, <span class="number">7.0</span>, <span class="number">50.0</span>&#125;</span><br></pre></td></tr></table></figure>

<p>初始化数组中 {} 中的元素个数不能大于 [] 中的数字。<br>如果忽略 [] 中的数字不设置数组大小，Go 语言会根据元素的个数来设置数组的大小：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> balance = []<span class="keyword">float32</span>&#123;<span class="number">1000.0</span>, <span class="number">2.0</span>, <span class="number">3.4</span>, <span class="number">7.0</span>, <span class="number">50.0</span>&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">balance[<span class="number">4</span>] = <span class="number">50.0</span></span><br></pre></td></tr></table></figure>

<p>数组的其他创建方式：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a [<span class="number">4</span>] <span class="keyword">float32</span> <span class="comment">// 等价于：var arr2 = [4]float32&#123;&#125;</span></span><br><span class="line">fmt.Println(a) <span class="comment">// [0 0 0 0]</span></span><br><span class="line"><span class="keyword">var</span> b = [<span class="number">5</span>] <span class="keyword">string</span>&#123;<span class="string">"ruby"</span>, <span class="string">"王二狗"</span>, <span class="string">"rose"</span>&#125;</span><br><span class="line">fmt.Println(b) <span class="comment">// [ruby 王二狗 rose  ]</span></span><br><span class="line"><span class="keyword">var</span> c = [<span class="number">5</span>] <span class="keyword">int</span>&#123;<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>, <span class="string">'D'</span>, <span class="string">'E'</span>&#125; <span class="comment">// byte</span></span><br><span class="line">fmt.Println(c) <span class="comment">// [65 66 67 68 69]</span></span><br><span class="line">d := [...] <span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;<span class="comment">// 根据元素的个数，设置数组的大小</span></span><br><span class="line">fmt.Println(d)<span class="comment">//[1 2 3 4 5]</span></span><br><span class="line">e := [<span class="number">5</span>] <span class="keyword">int</span>&#123;<span class="number">4</span>: <span class="number">100</span>&#125; <span class="comment">// [0 0 0 0 100]</span></span><br><span class="line">fmt.Println(e)</span><br><span class="line">f := [...] <span class="keyword">int</span>&#123;<span class="number">0</span>: <span class="number">1</span>, <span class="number">4</span>: <span class="number">1</span>, <span class="number">9</span>: <span class="number">1</span>&#125; <span class="comment">// [1 0 0 0 1 0 0 0 0 1]</span></span><br><span class="line">fmt.Println(f)</span><br></pre></td></tr></table></figure>





<p><strong>访问数组元素</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">float32</span> salary = balance[<span class="number">9</span>]</span><br></pre></td></tr></table></figure>

<p>示例代码：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> n [<span class="number">10</span>]<span class="keyword">int</span> <span class="comment">/* n 是一个长度为 10 的数组 */</span></span><br><span class="line">   <span class="keyword">var</span> i,j <span class="keyword">int</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">/* 为数组 n 初始化元素 */</span>         </span><br><span class="line">   <span class="keyword">for</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">      n[i] = i + <span class="number">100</span> <span class="comment">/* 设置元素为 i + 100 */</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* 输出每个数组元素的值 */</span></span><br><span class="line">   <span class="keyword">for</span> j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++ &#123;</span><br><span class="line">      fmt.Printf(<span class="string">"Element[%d] = %d\n"</span>, j, n[j] )</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Element[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line">Element[<span class="number">1</span>] = <span class="number">101</span></span><br><span class="line">Element[<span class="number">2</span>] = <span class="number">102</span></span><br><span class="line">Element[<span class="number">3</span>] = <span class="number">103</span></span><br><span class="line">Element[<span class="number">4</span>] = <span class="number">104</span></span><br><span class="line">Element[<span class="number">5</span>] = <span class="number">105</span></span><br><span class="line">Element[<span class="number">6</span>] = <span class="number">106</span></span><br><span class="line">Element[<span class="number">7</span>] = <span class="number">107</span></span><br><span class="line">Element[<span class="number">8</span>] = <span class="number">108</span></span><br><span class="line">Element[<span class="number">9</span>] = <span class="number">109</span></span><br></pre></td></tr></table></figure>

<p><strong>数组的长度</strong></p>
<p>通过将数组作为参数传递给len函数，可以获得数组的长度。</p>
<p>示例代码：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    a := [...]<span class="keyword">float64</span>&#123;<span class="number">67.7</span>, <span class="number">89.8</span>, <span class="number">21</span>, <span class="number">78</span>&#125;</span><br><span class="line">    fmt.Println(<span class="string">"length of a is"</span>,<span class="built_in">len</span>(a))</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">length of a is 4</span><br></pre></td></tr></table></figure>

<p>您甚至可以忽略声明中数组的长度并将其替换为…让编译器为你找到长度。这是在下面的程序中完成的。</p>
<p>示例代码：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    a := [...]<span class="keyword">int</span>&#123;<span class="number">12</span>, <span class="number">78</span>, <span class="number">50</span>&#125; <span class="comment">// ... makes the compiler determine the length</span></span><br><span class="line">    fmt.Println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>遍历数组：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    a := [...]<span class="keyword">float64</span>&#123;<span class="number">67.7</span>, <span class="number">89.8</span>, <span class="number">21</span>, <span class="number">78</span>&#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(a); i++ &#123; <span class="comment">//looping from 0 to the length of the array</span></span><br><span class="line">        fmt.Printf(<span class="string">"%d th element of a is %.2f\n"</span>, i, a[i])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>使用range遍历数组：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    a := [...]<span class="keyword">float64</span>&#123;<span class="number">67.7</span>, <span class="number">89.8</span>, <span class="number">21</span>, <span class="number">78</span>&#125;</span><br><span class="line">    sum := <span class="keyword">float64</span>(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">for</span> i, v := <span class="keyword">range</span> a &#123;<span class="comment">//range returns both the index and value</span></span><br><span class="line">        fmt.Printf(<span class="string">"%d the element of a is %.2f\n"</span>, i, v)</span><br><span class="line">        sum += v</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="string">"\nsum of all elements of a"</span>,sum)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果您只需要值并希望忽略索引，那么可以通过使用_ blank标识符替换索引来实现这一点。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> _, v := <span class="keyword">range</span> a &#123; <span class="comment">//ignores index  </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="1-3-多维数组"><a href="#1-3-多维数组" class="headerlink" title="1.3 多维数组"></a>1.3 多维数组</h2><p>Go 语言支持多维数组，以下为常用的多维数组声明语法方式：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> variable_name [SIZE1][SIZE2]...[SIZEN] variable_type</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> threedim [<span class="number">5</span>][<span class="number">10</span>][<span class="number">4</span>]<span class="keyword">int</span></span><br></pre></td></tr></table></figure>

<p>三维数组</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">3</span>][<span class="number">4</span>]<span class="keyword">int</span>&#123;  </span><br><span class="line"> &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125; ,   <span class="comment">/*  第一行索引为 0 */</span></span><br><span class="line"> &#123;<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>&#125; ,   <span class="comment">/*  第二行索引为 1 */</span></span><br><span class="line"> &#123;<span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>&#125;   <span class="comment">/*  第三行索引为 2 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>















<h2 id="1-4-数组是值类型"><a href="#1-4-数组是值类型" class="headerlink" title="1.4 数组是值类型"></a>1.4 数组是值类型</h2><p>数组是值类型<br>Go中的数组是值类型，而不是引用类型。这意味着当它们被分配给一个新变量时，将把原始数组的副本分配给新变量。如果对新变量进行了更改，则不会在原始数组中反映。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    a := [...]<span class="keyword">string</span>&#123;<span class="string">"USA"</span>, <span class="string">"China"</span>, <span class="string">"India"</span>, <span class="string">"Germany"</span>, <span class="string">"France"</span>&#125;</span><br><span class="line">    b := a <span class="comment">// a copy of a is assigned to b</span></span><br><span class="line">    b[<span class="number">0</span>] = <span class="string">"Singapore"</span></span><br><span class="line">    fmt.Println(<span class="string">"a is "</span>, a)</span><br><span class="line">    fmt.Println(<span class="string">"b is "</span>, b) </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a is [USA China India Germany France]  </span><br><span class="line">b is [Singapore China India Germany France]</span><br></pre></td></tr></table></figure>

<p>数组的大小是类型的一部分。因此[5]int和[25]int是不同的类型。因此，数组不能被调整大小。不要担心这个限制，因为切片的存在是为了解决这个问题。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    a := [<span class="number">3</span>]<span class="keyword">int</span>&#123;<span class="number">5</span>, <span class="number">78</span>, <span class="number">8</span>&#125;</span><br><span class="line">    <span class="keyword">var</span> b [<span class="number">5</span>]<span class="keyword">int</span></span><br><span class="line">    b = a <span class="comment">//not possible since [3]int and [5]int are distinct types</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




<h1 id="一、切片-Slice"><a href="#一、切片-Slice" class="headerlink" title="一、切片(Slice)"></a>一、切片(Slice)</h1><blockquote>
<p>@author：韩茹</p>
<p>版权所有：北京千锋互联科技有限公司</p>
</blockquote>
<h2 id="1-1-什么是切片"><a href="#1-1-什么是切片" class="headerlink" title="1.1 什么是切片"></a>1.1 什么是切片</h2><p>Go 语言切片是对数组的抽象。<br>Go 数组的长度不可改变，在特定场景中这样的集合就不太适用，Go中提供了一种灵活，功能强悍的内置类型切片(“动态数组”),与数组相比切片的长度是不固定的，可以追加元素，在追加时可能使切片的容量增大</p>
<p>切片是一种方便、灵活且强大的包装器。切片本身没有任何数据。它们只是对现有数组的引用。</p>
<p>切片与数组相比，不需要设定长度，在[]中不用设定值，相对来说比较自由</p>
<p>从概念上面来说slice像一个结构体，这个结构体包含了三个元素： </p>
<ol>
<li>指针，指向数组中slice指定的开始位置</li>
<li>长度，即slice的长度</li>
<li>最大长度，也就是slice开始位置到数组的最后位置的长度</li>
</ol>
<h2 id="1-2-切片的语法"><a href="#1-2-切片的语法" class="headerlink" title="1.2 切片的语法"></a>1.2 切片的语法</h2><p><strong>定义切片</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> identifier []<span class="keyword">type</span></span><br></pre></td></tr></table></figure>

<p>切片不需要说明长度。<br>或使用make()函数来创建切片:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> slice1 []<span class="keyword">type</span> = <span class="built_in">make</span>([]<span class="keyword">type</span>, <span class="built_in">len</span>)</span><br><span class="line">也可以简写为</span><br><span class="line">slice1 := <span class="built_in">make</span>([]<span class="keyword">type</span>, <span class="built_in">len</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">make</span>([]T, length, capacity)</span><br></pre></td></tr></table></figure>

<p><strong>初始化</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">s[<span class="number">1</span>] = <span class="number">2</span></span><br><span class="line">s[<span class="number">2</span>] = <span class="number">3</span></span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s :=[] <span class="keyword">int</span> &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span> &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s := arr[startIndex:endIndex]</span><br></pre></td></tr></table></figure>

<p>将arr中从下标startIndex到endIndex-1 下的元素创建为一个新的切片（<strong>前闭后开</strong>），长度为endIndex-startIndex</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s := arr[startIndex:]</span><br></pre></td></tr></table></figure>

<p>缺省endIndex时将表示一直到arr的最后一个元素</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s := arr[:endIndex]</span><br></pre></td></tr></table></figure>

<p>缺省startIndex时将表示从arr的第一个元素开始</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    a := [<span class="number">5</span>]<span class="keyword">int</span>&#123;<span class="number">76</span>, <span class="number">77</span>, <span class="number">78</span>, <span class="number">79</span>, <span class="number">80</span>&#125;</span><br><span class="line">    <span class="keyword">var</span> b []<span class="keyword">int</span> = a[<span class="number">1</span>:<span class="number">4</span>] <span class="comment">//creates a slice from a[1] to a[3]</span></span><br><span class="line">    fmt.Println(b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1-3-修改切片"><a href="#1-3-修改切片" class="headerlink" title="1.3 修改切片"></a>1.3 修改切片</h2><p>slice没有自己的任何数据。它只是底层数组的一个表示。对slice所做的任何修改都将反映在底层数组中。</p>
<p>示例代码：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    darr := [...]<span class="keyword">int</span>&#123;<span class="number">57</span>, <span class="number">89</span>, <span class="number">90</span>, <span class="number">82</span>, <span class="number">100</span>, <span class="number">78</span>, <span class="number">67</span>, <span class="number">69</span>, <span class="number">59</span>&#125;</span><br><span class="line">    dslice := darr[<span class="number">2</span>:<span class="number">5</span>]</span><br><span class="line">    fmt.Println(<span class="string">"array before"</span>,darr)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="keyword">range</span> dslice &#123;</span><br><span class="line">        dslice[i]++</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="string">"array after"</span>,darr) </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">array before [57 89 90 82 100 78 67 69 59]  </span><br><span class="line">array after [57 89 91 83 101 78 67 69 59]</span><br></pre></td></tr></table></figure>

<p>当多个片共享相同的底层数组时，每个元素所做的更改将在数组中反映出来。</p>
<p>示例代码：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    numa := [<span class="number">3</span>]<span class="keyword">int</span>&#123;<span class="number">78</span>, <span class="number">79</span> ,<span class="number">80</span>&#125;</span><br><span class="line">    nums1 := numa[:] <span class="comment">//creates a slice which contains all elements of the array</span></span><br><span class="line">    nums2 := numa[:]</span><br><span class="line">    fmt.Println(<span class="string">"array before change 1"</span>,numa)</span><br><span class="line">    nums1[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line">    fmt.Println(<span class="string">"array after modification to slice nums1"</span>, numa)</span><br><span class="line">    nums2[<span class="number">1</span>] = <span class="number">101</span></span><br><span class="line">    fmt.Println(<span class="string">"array after modification to slice nums2"</span>, numa)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">array before change 1 [78 79 80]  </span><br><span class="line">array after modification to slice nums1 [100 79 80]  </span><br><span class="line">array after modification to slice nums2 [100 101 80]</span><br></pre></td></tr></table></figure>



<h2 id="1-4-len-和-cap-函数"><a href="#1-4-len-和-cap-函数" class="headerlink" title="1.4 len() 和 cap() 函数"></a>1.4 len() 和 cap() 函数</h2><p>切片的长度是切片中元素的数量。切片的容量是从创建切片的索引开始的底层数组中元素的数量。</p>
<p>切片是可索引的，并且可以由 len() 方法获取长度<br>切片提供了计算容量的方法 cap() 可以测量切片最长可以达到多少</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> numbers = <span class="built_in">make</span>([]<span class="keyword">int</span>,<span class="number">3</span>,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">   printSlice(numbers)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printSlice</span><span class="params">(x []<span class="keyword">int</span>)</span></span>&#123;</span><br><span class="line">   fmt.Printf(<span class="string">"len=%d cap=%d slice=%v\n"</span>,<span class="built_in">len</span>(x),<span class="built_in">cap</span>(x),x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">len</span>=<span class="number">3</span> <span class="built_in">cap</span>=<span class="number">5</span> slice=[<span class="number">0</span> <span class="number">0</span> <span class="number">0</span>]</span><br></pre></td></tr></table></figure>

<p><strong>空切片</strong></p>
<p>一个切片在未初始化之前默认为 nil，长度为 0</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> numbers []<span class="keyword">int</span></span><br><span class="line"></span><br><span class="line">   printSlice(numbers)</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span>(numbers == <span class="literal">nil</span>)&#123;</span><br><span class="line">      fmt.Printf(<span class="string">"切片是空的"</span>)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printSlice</span><span class="params">(x []<span class="keyword">int</span>)</span></span>&#123;</span><br><span class="line">   fmt.Printf(<span class="string">"len=%d cap=%d slice=%v\n"</span>,<span class="built_in">len</span>(x),<span class="built_in">cap</span>(x),x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">len</span>=<span class="number">0</span> <span class="built_in">cap</span>=<span class="number">0</span> slice=[]</span><br><span class="line">切片是空的</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">/* 创建切片 */</span></span><br><span class="line">   numbers := []<span class="keyword">int</span>&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>&#125;   </span><br><span class="line">   printSlice(numbers)</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* 打印原始切片 */</span></span><br><span class="line">   fmt.Println(<span class="string">"numbers =="</span>, numbers)</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* 打印子切片从索引1(包含) 到索引4(不包含)*/</span></span><br><span class="line">   fmt.Println(<span class="string">"numbers[1:4] =="</span>, numbers[<span class="number">1</span>:<span class="number">4</span>])</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* 默认下限为 0*/</span></span><br><span class="line">   fmt.Println(<span class="string">"numbers[:3] =="</span>, numbers[:<span class="number">3</span>])</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* 默认上限为 len(s)*/</span></span><br><span class="line">   fmt.Println(<span class="string">"numbers[4:] =="</span>, numbers[<span class="number">4</span>:])</span><br><span class="line"></span><br><span class="line">   numbers1 := <span class="built_in">make</span>([]<span class="keyword">int</span>,<span class="number">0</span>,<span class="number">5</span>)</span><br><span class="line">   printSlice(numbers1)</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* 打印子切片从索引  0(包含) 到索引 2(不包含) */</span></span><br><span class="line">   number2 := numbers[:<span class="number">2</span>]</span><br><span class="line">   printSlice(number2)</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* 打印子切片从索引 2(包含) 到索引 5(不包含) */</span></span><br><span class="line">   number3 := numbers[<span class="number">2</span>:<span class="number">5</span>]</span><br><span class="line">   printSlice(number3)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printSlice</span><span class="params">(x []<span class="keyword">int</span>)</span></span>&#123;</span><br><span class="line">   fmt.Printf(<span class="string">"len=%d cap=%d slice=%v\n"</span>,<span class="built_in">len</span>(x),<span class="built_in">cap</span>(x),x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">len</span>=<span class="number">9</span> <span class="built_in">cap</span>=<span class="number">9</span> slice=[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span>]</span><br><span class="line">numbers == [<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span>]</span><br><span class="line">numbers[<span class="number">1</span>:<span class="number">4</span>] == [<span class="number">1</span> <span class="number">2</span> <span class="number">3</span>]</span><br><span class="line">numbers[:<span class="number">3</span>] == [<span class="number">0</span> <span class="number">1</span> <span class="number">2</span>]</span><br><span class="line">numbers[<span class="number">4</span>:] == [<span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span>]</span><br><span class="line"><span class="built_in">len</span>=<span class="number">0</span> <span class="built_in">cap</span>=<span class="number">5</span> slice=[]</span><br><span class="line"><span class="built_in">len</span>=<span class="number">2</span> <span class="built_in">cap</span>=<span class="number">9</span> slice=[<span class="number">0</span> <span class="number">1</span>]</span><br><span class="line"><span class="built_in">len</span>=<span class="number">3</span> <span class="built_in">cap</span>=<span class="number">7</span> slice=[<span class="number">2</span> <span class="number">3</span> <span class="number">4</span>]</span><br></pre></td></tr></table></figure>

<h2 id="1-5-append-和-copy-函数"><a href="#1-5-append-和-copy-函数" class="headerlink" title="1.5 append() 和 copy() 函数"></a>1.5 append() 和 copy() 函数</h2><p>append 向slice里面追加一个或者多个元素，然后返回一个和slice一样类型的slice<br>copy 函数copy从源slice的src中复制元素到目标dst，并且返回复制的元素的个数</p>
<p>append函数会改变slice所引用的数组的内容，从而影响到引用同一数组的其它slice。 但当slice中没有剩<br>余空间（即(cap-len) == 0）时，此时将动态分配新的数组空间。返回的slice数组指针将指向这个空间，而原<br>数组的内容将保持不变；其它引用此数组的slice则不受影响</p>
<p>下面的代码描述了从拷贝切片的 copy 方法和向切片追加新元素的 append 方法</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> numbers []<span class="keyword">int</span></span><br><span class="line">   printSlice(numbers)</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* 允许追加空切片 */</span></span><br><span class="line">   numbers = <span class="built_in">append</span>(numbers, <span class="number">0</span>)</span><br><span class="line">   printSlice(numbers)</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* 向切片添加一个元素 */</span></span><br><span class="line">   numbers = <span class="built_in">append</span>(numbers, <span class="number">1</span>)</span><br><span class="line">   printSlice(numbers)</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* 同时添加多个元素 */</span></span><br><span class="line">   numbers = <span class="built_in">append</span>(numbers, <span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">   printSlice(numbers)</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* 创建切片 numbers1 是之前切片的两倍容量*/</span></span><br><span class="line">   numbers1 := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="built_in">len</span>(numbers), (<span class="built_in">cap</span>(numbers))*<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* 拷贝 numbers 的内容到 numbers1 */</span></span><br><span class="line">   <span class="built_in">copy</span>(numbers1,numbers)</span><br><span class="line">   printSlice(numbers1)   </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printSlice</span><span class="params">(x []<span class="keyword">int</span>)</span></span>&#123;</span><br><span class="line">   fmt.Printf(<span class="string">"len=%d cap=%d slice=%v\n"</span>,<span class="built_in">len</span>(x),<span class="built_in">cap</span>(x),x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">len</span>=<span class="number">0</span> <span class="built_in">cap</span>=<span class="number">0</span> slice=[]</span><br><span class="line"><span class="built_in">len</span>=<span class="number">1</span> <span class="built_in">cap</span>=<span class="number">2</span> slice=[<span class="number">0</span>]</span><br><span class="line"><span class="built_in">len</span>=<span class="number">2</span> <span class="built_in">cap</span>=<span class="number">2</span> slice=[<span class="number">0</span> <span class="number">1</span>]</span><br><span class="line"><span class="built_in">len</span>=<span class="number">5</span> <span class="built_in">cap</span>=<span class="number">8</span> slice=[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span>]</span><br><span class="line"><span class="built_in">len</span>=<span class="number">5</span> <span class="built_in">cap</span>=<span class="number">12</span> slice=[<span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span>]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>numbers1与numbers两者不存在联系，numbers发生变化时，numbers1是不会随着变化的。也就是说copy方法是不会建立两个切片的联系的</p>
</blockquote>
<h1 id="一、集合-Map"><a href="#一、集合-Map" class="headerlink" title="一、集合(Map)"></a>一、集合(Map)</h1><blockquote>
<p>@author：韩茹</p>
<p>版权所有：北京千锋互联科技有限公司</p>
</blockquote>
<h2 id="1-1-什么是Map"><a href="#1-1-什么是Map" class="headerlink" title="1.1 什么是Map"></a>1.1 什么是Map</h2><p>map是Go中的内置类型，它将一个值与一个键关联起来。可以使用相应的键检索值。</p>
<p>Map 是一种无序的键值对的集合。Map 最重要的一点是通过 key 来快速检索数据，key 类似于索引，指向数据的值<br>Map 是一种集合，所以我们可以像迭代数组和切片那样迭代它。不过，Map 是无序的，我们无法决定它的返回顺序，这是因为 Map 是使用 hash 表来实现的，也是引用类型</p>
<p>使用map过程中需要注意的几点： </p>
<ul>
<li>map是无序的，每次打印出来的map都会不一样，它不能通过index获取，而必须通过key获取</li>
<li>map的长度是不固定的，也就是和slice一样，也是一种引用类型</li>
<li>内置的len函数同样适用于map，返回map拥有的key的数量 </li>
<li>map的key可以是所有可比较的类型，如布尔型、整数型、浮点型、复杂型、字符串型……也可以键。</li>
</ul>
<h2 id="1-2-Map的使用"><a href="#1-2-Map的使用" class="headerlink" title="1.2  Map的使用"></a>1.2  Map的使用</h2><h3 id="1-2-1-使用make-创建map"><a href="#1-2-1-使用make-创建map" class="headerlink" title="1.2.1 使用make()创建map"></a>1.2.1 使用make()创建map</h3><p>可以使用内建函数 make 也可以使用 map 关键字来定义 Map:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 声明变量，默认 map 是 nil */</span></span><br><span class="line"><span class="keyword">var</span> map_variable <span class="keyword">map</span>[key_data_type]value_data_type</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 使用 make 函数 */</span></span><br><span class="line">map_variable = <span class="built_in">make</span>(<span class="keyword">map</span>[key_data_type]value_data_type)</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rating := <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">float32</span> &#123;<span class="string">"C"</span>:<span class="number">5</span>, <span class="string">"Go"</span>:<span class="number">4.5</span>, <span class="string">"Python"</span>:<span class="number">4.5</span>, <span class="string">"C++"</span>:<span class="number">2</span> &#125;</span><br></pre></td></tr></table></figure>

<p>如果不初始化 map，那么就会创建一个 nil map。nil map 不能用来存放键值对</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> countryCapitalMap <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span></span><br><span class="line">   <span class="comment">/* 创建集合 */</span></span><br><span class="line">   countryCapitalMap = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>)</span><br><span class="line">   </span><br><span class="line">   <span class="comment">/* map 插入 key-value 对，各个国家对应的首都 */</span></span><br><span class="line">   countryCapitalMap[<span class="string">"France"</span>] = <span class="string">"Paris"</span></span><br><span class="line">   countryCapitalMap[<span class="string">"Italy"</span>] = <span class="string">"Rome"</span></span><br><span class="line">   countryCapitalMap[<span class="string">"Japan"</span>] = <span class="string">"Tokyo"</span></span><br><span class="line">   countryCapitalMap[<span class="string">"India"</span>] = <span class="string">"New Delhi"</span></span><br><span class="line">   </span><br><span class="line">   <span class="comment">/* 使用 key 输出 map 值 */</span></span><br><span class="line">   <span class="keyword">for</span> country := <span class="keyword">range</span> countryCapitalMap &#123;</span><br><span class="line">      fmt.Println(<span class="string">"Capital of"</span>,country,<span class="string">"is"</span>,countryCapitalMap[country])</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">/* 查看元素在集合中是否存在 */</span></span><br><span class="line">   captial, ok := countryCapitalMap[<span class="string">"United States"</span>]</span><br><span class="line">   <span class="comment">/* 如果 ok 是 true, 则存在，否则不存在 */</span></span><br><span class="line">   <span class="keyword">if</span>(ok)&#123;</span><br><span class="line">      fmt.Println(<span class="string">"Capital of United States is"</span>, captial)  </span><br><span class="line">   &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">      fmt.Println(<span class="string">"Capital of United States is not present"</span>) </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Capital of France is Paris</span><br><span class="line">Capital of Italy is Rome</span><br><span class="line">Capital of Japan is Tokyo</span><br><span class="line">Capital of India is New Delhi</span><br><span class="line">Capital of United States is not present</span><br></pre></td></tr></table></figure>

<h3 id="1-2-2-delete-函数"><a href="#1-2-2-delete-函数" class="headerlink" title="1.2.2 delete() 函数"></a>1.2.2 delete() 函数</h3><p>delete(map, key) 函数用于删除集合的元素, 参数为 map 和其对应的 key。删除函数不返回任何值。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;   </span><br><span class="line">   <span class="comment">/* 创建 map */</span></span><br><span class="line">   countryCapitalMap := <span class="keyword">map</span>[<span class="keyword">string</span>] <span class="keyword">string</span> &#123;<span class="string">"France"</span>:<span class="string">"Paris"</span>,<span class="string">"Italy"</span>:<span class="string">"Rome"</span>,<span class="string">"Japan"</span>:<span class="string">"Tokyo"</span>,<span class="string">"India"</span>:<span class="string">"New Delhi"</span>&#125;</span><br><span class="line">   </span><br><span class="line">   fmt.Println(<span class="string">"原始 map"</span>)   </span><br><span class="line">   </span><br><span class="line">   <span class="comment">/* 打印 map */</span></span><br><span class="line">   <span class="keyword">for</span> country := <span class="keyword">range</span> countryCapitalMap &#123;</span><br><span class="line">      fmt.Println(<span class="string">"Capital of"</span>,country,<span class="string">"is"</span>,countryCapitalMap[country])</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">/* 删除元素 */</span></span><br><span class="line">   <span class="built_in">delete</span>(countryCapitalMap,<span class="string">"France"</span>);</span><br><span class="line">   fmt.Println(<span class="string">"Entry for France is deleted"</span>)  </span><br><span class="line">   </span><br><span class="line">   fmt.Println(<span class="string">"删除元素后 map"</span>)   </span><br><span class="line">   </span><br><span class="line">   <span class="comment">/* 打印 map */</span></span><br><span class="line">   <span class="keyword">for</span> country := <span class="keyword">range</span> countryCapitalMap &#123;</span><br><span class="line">      fmt.Println(<span class="string">"Capital of"</span>,country,<span class="string">"is"</span>,countryCapitalMap[country])</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">原始 <span class="keyword">map</span></span><br><span class="line">Capital of France is Paris</span><br><span class="line">Capital of Italy is Rome</span><br><span class="line">Capital of Japan is Tokyo</span><br><span class="line">Capital of India is New Delhi</span><br><span class="line">Entry <span class="keyword">for</span> France is deleted</span><br><span class="line">删除元素后 <span class="keyword">map</span></span><br><span class="line">Capital of Italy is Rome</span><br><span class="line">Capital of Japan is Tokyo</span><br><span class="line">Capital of India is New Delhi</span><br></pre></td></tr></table></figure>

<h3 id="1-2-3-ok-idiom"><a href="#1-2-3-ok-idiom" class="headerlink" title="1.2.3 ok-idiom"></a>1.2.3 ok-idiom</h3><p>我们可以通过key获取map中对应的value值。语法为：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">map</span>[key]</span><br></pre></td></tr></table></figure>

<p>但是当key如果不存在的时候，我们会得到该value值类型的默认值，比如string类型得到空字符串，int类型得到0。但是程序不会报错。</p>
<p>所以我们可以使用ok-idiom获取值，可知道key/value是否存在</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">value, ok := <span class="keyword">map</span>[key]</span><br></pre></td></tr></table></figure>

<p>示例代码：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	m := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>)</span><br><span class="line">	m[<span class="string">"a"</span>] = <span class="number">1</span></span><br><span class="line">	x, ok := m[<span class="string">"b"</span>]</span><br><span class="line">	fmt.Println(x, ok)</span><br><span class="line">	x, ok = m[<span class="string">"a"</span>]</span><br><span class="line">	fmt.Println(x, ok)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> <span class="literal">false</span></span><br><span class="line"><span class="number">1</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h3 id="1-2-4-map的长度"><a href="#1-2-4-map的长度" class="headerlink" title="1.2.4 map的长度"></a>1.2.4 map的长度</h3><p>使用len函数可以确定map的长度。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">len</span>(<span class="keyword">map</span>)  <span class="comment">// 可以得到map的长度</span></span><br></pre></td></tr></table></figure>

<h3 id="1-2-5-map是引用类型的"><a href="#1-2-5-map是引用类型的" class="headerlink" title="1.2.5 map是引用类型的"></a>1.2.5 map是引用类型的</h3><p>与切片相似，映射是引用类型。当将映射分配给一个新变量时，它们都指向相同的内部数据结构。因此，一个的变化会反映另一个。</p>
<p>示例代码：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    personSalary := <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>&#123;</span><br><span class="line">        <span class="string">"steve"</span>: <span class="number">12000</span>,</span><br><span class="line">        <span class="string">"jamie"</span>: <span class="number">15000</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    personSalary[<span class="string">"mike"</span>] = <span class="number">9000</span></span><br><span class="line">    fmt.Println(<span class="string">"Original person salary"</span>, personSalary)</span><br><span class="line">    newPersonSalary := personSalary</span><br><span class="line">    newPersonSalary[<span class="string">"mike"</span>] = <span class="number">18000</span></span><br><span class="line">    fmt.Println(<span class="string">"Person salary changed"</span>, personSalary)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Original person salary map[steve:12000 jamie:15000 mike:9000]  </span><br><span class="line">Person salary changed map[steve:12000 jamie:15000 mike:18000]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>map不能使用==操作符进行比较。==只能用来检查map是否为空。否则会报错：invalid operation: map1 == map2 (map can only be comparedto nil)</p>
</blockquote>
<h1 id="一、字符串-string"><a href="#一、字符串-string" class="headerlink" title="一、字符串(string)"></a>一、字符串(string)</h1><blockquote>
<p>@author：韩茹</p>
<p>版权所有：北京千锋互联科技有限公司</p>
</blockquote>
<h2 id="1-1-什么是string"><a href="#1-1-什么是string" class="headerlink" title="1.1 什么是string"></a>1.1 什么是string</h2><p>Go中的字符串是一个字节的切片。可以通过将其内容封装在“”中来创建字符串。Go中的字符串是Unicode兼容的，并且是UTF-8编码的。</p>
<p>示例代码：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    name := <span class="string">"Hello World"</span></span><br><span class="line">    fmt.Println(name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="1-2-string的使用"><a href="#1-2-string的使用" class="headerlink" title="1.2  string的使用"></a>1.2  string的使用</h2><h3 id="1-2-1-访问字符串中的单个字节"><a href="#1-2-1-访问字符串中的单个字节" class="headerlink" title="1.2.1 访问字符串中的单个字节"></a>1.2.1 访问字符串中的单个字节</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    name := <span class="string">"Hello World"</span></span><br><span class="line">    <span class="keyword">for</span> i:= <span class="number">0</span>; i &lt; <span class="built_in">len</span>(s); i++ &#123;</span><br><span class="line">        fmt.Printf(<span class="string">"%d "</span>, s[i])</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Printf(<span class="string">"\n"</span>)</span><br><span class="line">    <span class="keyword">for</span> i:= <span class="number">0</span>; i &lt; <span class="built_in">len</span>(s); i++ &#123;</span><br><span class="line">        fmt.Printf(<span class="string">"%c "</span>,s[i])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p>72 101 108 108 111 32 87 111 114 108 100<br>H e l l o   W o r l d </p>
<h2 id="1-3-strings包"><a href="#1-3-strings包" class="headerlink" title="1.3 strings包"></a>1.3 strings包</h2><p>访问strings包，可以有很多操作string的函数。</p>
<h2 id="1-4-strconv包"><a href="#1-4-strconv包" class="headerlink" title="1.4 strconv包"></a>1.4 strconv包</h2><p>访问strconv包，可以实现string和其他数值类型之间的转换。</p>
<h1 id="一、函数的概念"><a href="#一、函数的概念" class="headerlink" title="一、函数的概念"></a>一、函数的概念</h1><blockquote>
<p>@author：韩茹</p>
<p>版权所有：北京千锋互联科技有限公司</p>
</blockquote>
<h2 id="1-1-什么是函数"><a href="#1-1-什么是函数" class="headerlink" title="1.1 什么是函数"></a>1.1 什么是函数</h2><p>函数是执行特定任务的代码块。</p>
<h2 id="1-2-函数的声明"><a href="#1-2-函数的声明" class="headerlink" title="1.2 函数的声明"></a>1.2 函数的声明</h2><p>go语言至少有一个main函数</p>
<p>语法格式：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">funcName</span><span class="params">(parametername type1, parametername type2)</span> <span class="params">(output1 type1, output2 type2)</span></span> &#123;</span><br><span class="line"><span class="comment">//这里是处理逻辑代码</span></span><br><span class="line"><span class="comment">//返回多个值</span></span><br><span class="line"><span class="keyword">return</span> value1, value2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>func：函数由 func 开始声明</li>
<li>funcName：函数名称，函数名和参数列表一起构成了函数签名。</li>
<li>parametername type：参数列表，参数就像一个占位符，当函数被调用时，你可以将值传递给参数，这个值被称为实际参数。参数列表指定的是参数类型、顺序、及参数个数。参数是可选的，也就是说函数也可以不包含参数。</li>
<li>output1 type1, output2 type2：返回类型，函数返回一列值。return_types 是该列值的数据类型。有些功能不需要返回值，这种情况下 return_types 不是必须的。</li>
<li>上面返回值声明了两个变量output1和output2，如果你不想声明也可以，直接就两个类型。</li>
<li>如果只有一个返回值且不声明返回值变量，那么你可以省略包括返回值的括号（即一个返回值可以不声明返回类型）</li>
<li>函数体：函数定义的代码集合。</li>
</ul>
<h2 id="1-3-函数的使用"><a href="#1-3-函数的使用" class="headerlink" title="1.3 函数的使用"></a>1.3 函数的使用</h2><p>示例代码：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">/* 定义局部变量 */</span></span><br><span class="line">   <span class="keyword">var</span> a <span class="keyword">int</span> = <span class="number">100</span></span><br><span class="line">   <span class="keyword">var</span> b <span class="keyword">int</span> = <span class="number">200</span></span><br><span class="line">   <span class="keyword">var</span> ret <span class="keyword">int</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">/* 调用函数并返回最大值 */</span></span><br><span class="line">   ret = max(a, b)</span><br><span class="line"></span><br><span class="line">   fmt.Printf( <span class="string">"最大值是 : %d\n"</span>, ret )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 函数返回两个数的最大值 */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">max</span><span class="params">(num1, num2 <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">   <span class="comment">/* 定义局部变量 */</span></span><br><span class="line">   <span class="keyword">var</span> result <span class="keyword">int</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> (num1 &gt; num2) &#123;</span><br><span class="line">      result = num1</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      result = num2</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> result </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">最大值是 : <span class="number">200</span></span><br></pre></td></tr></table></figure>





<h1 id="二、函数的参数"><a href="#二、函数的参数" class="headerlink" title="二、函数的参数"></a>二、函数的参数</h1><h2 id="2-1-参数的使用"><a href="#2-1-参数的使用" class="headerlink" title="2.1 参数的使用"></a>2.1 参数的使用</h2><p>形式参数：定义函数时，用于接收外部传入的数据，叫做形式参数，简称形参。</p>
<p>实际参数：调用函数时，传给形参的实际的数据，叫做实际参数，简称实参。</p>
<p>函数调用：</p>
<pre><code>A：函数名称必须匹配

B：实参与形参必须一一对应：顺序，个数，类型</code></pre><h2 id="2-2-可变参"><a href="#2-2-可变参" class="headerlink" title="2.2 可变参"></a>2.2 可变参</h2><p>Go函数支持变参。接受变参的函数是有着不定数量的参数的。为了做到这点，首先需要定义函数使其接受变参：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">myfunc</span><span class="params">(arg ...<span class="keyword">int</span>)</span></span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<p><code>arg ...int</code>告诉Go这个函数接受不定数量的参数。注意，这些参数的类型全部是int。在函数体中，变量arg是一个int的slice：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> _, n := <span class="keyword">range</span> arg &#123;</span><br><span class="line">fmt.Printf(<span class="string">"And the number is: %d\n"</span>, n)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-3-参数传递"><a href="#2-3-参数传递" class="headerlink" title="2.3 参数传递"></a>2.3 参数传递</h2><p>go语言函数的参数也是存在<strong>值传递</strong>和<strong>引用传递</strong></p>
<p>函数运用场景</p>
<p><strong>值传递</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">"fmt"</span></span><br><span class="line">   <span class="string">"math"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">   <span class="comment">/* 声明函数变量 */</span></span><br><span class="line">   getSquareRoot := <span class="function"><span class="keyword">func</span><span class="params">(x <span class="keyword">float64</span>)</span> <span class="title">float64</span></span> &#123;</span><br><span class="line">      <span class="keyword">return</span> math.Sqrt(x)</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/* 使用函数 */</span></span><br><span class="line">   fmt.Println(getSquareRoot(<span class="number">9</span>))</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>引用传递</strong></p>
<p>这就牵扯到了所谓的指针。我们知道，变量在内存中是存放于一定地址上的，修改变量实际是修改变量地址处的内<br>存。只有add1函数知道x变量所在的地址，才能修改x变量的值。所以我们需要将x所在地址&amp;x传入函数，并将函数的参数的类型由int改为*int，即改为指针类型，才能在函数中修改x变量的值。此时参数仍然是按copy传递的，只是copy的是一个指针。请看下面的例子</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="comment">//简单的一个函数，实现了参数+1的操作</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add1</span><span class="params">(a *<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123; <span class="comment">// 请注意，</span></span><br><span class="line">*a = *a+<span class="number">1</span> <span class="comment">// 修改了a的值</span></span><br><span class="line"><span class="keyword">return</span> *a <span class="comment">// 返回新值</span></span><br><span class="line">&#125; f</span><br><span class="line">unc main() &#123;</span><br><span class="line">x := <span class="number">3</span></span><br><span class="line">fmt.Println(<span class="string">"x = "</span>, x) <span class="comment">// 应该输出 "x = 3"</span></span><br><span class="line">x1 := add1(&amp;x) <span class="comment">// 调用 add1(&amp;x) 传x的地址</span></span><br><span class="line">fmt.Println(<span class="string">"x+1 = "</span>, x1) <span class="comment">// 应该输出 "x+1 = 4"</span></span><br><span class="line">fmt.Println(<span class="string">"x = "</span>, x) <span class="comment">// 应该输出 "x = 4"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>传指针使得多个函数能操作同一个对象。</li>
<li>传指针比较轻量级 (8bytes),只是传内存地址，我们可以用指针传递体积大的结构体。如果用参数值传递的话, 在每次copy上面就会花费相对较多的系统开销（内存和时间）。所以当你要传递大的结构体的时候，用指针是一个明智的选择。</li>
<li><strong>Go语言中slice，map这三种类型的实现机制类似指针</strong>，所以可以直接传递，而不用取地址后传递指针。（注：若函数需改变slice的长度，则仍需要取地址传递指针）</li>
</ul>
<h1 id="三、函数的返回值"><a href="#三、函数的返回值" class="headerlink" title="三、函数的返回值"></a>三、函数的返回值</h1><h2 id="3-1-什么是函数的返回值"><a href="#3-1-什么是函数的返回值" class="headerlink" title="3.1 什么是函数的返回值"></a>3.1 什么是函数的返回值</h2><p>一个函数被调用后，返回给调用处的执行结果，叫做函数的返回值。</p>
<p>调用处需要使用变量接收该结果</p>
<h2 id="3-2-一个函数可以返回多个值"><a href="#3-2-一个函数可以返回多个值" class="headerlink" title="3.2 一个函数可以返回多个值"></a>3.2 一个函数可以返回多个值</h2><p>一个函数可以没有返回值，也可以有一个返回值，也可以有返回多个值。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">swap</span><span class="params">(x, y <span class="keyword">string</span>)</span> <span class="params">(<span class="keyword">string</span>, <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">   <span class="keyword">return</span> y, x</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   a, b := swap(<span class="string">"Mahesh"</span>, <span class="string">"Kumar"</span>)</span><br><span class="line">   fmt.Println(a, b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">SumAndProduct</span><span class="params">(A, B <span class="keyword">int</span>)</span> <span class="params">(add <span class="keyword">int</span>, Multiplied <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">add = A+B</span><br><span class="line">Multiplied = A*B</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-3-空白标识符"><a href="#3-3-空白标识符" class="headerlink" title="3.3 空白标识符"></a>3.3 空白标识符</h2><p>_是Go中的空白标识符。它可以代替任何类型的任何值。让我们看看这个空白标识符的用法。</p>
<p>比如rectProps函数返回的结果是面积和周长，如果我们只要面积，不要周长，就可以使用空白标识符。</p>
<p>示例代码：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">rectProps</span><span class="params">(length, width <span class="keyword">float64</span>)</span> <span class="params">(<span class="keyword">float64</span>, <span class="keyword">float64</span>)</span></span> &#123;  </span><br><span class="line">    <span class="keyword">var</span> area = length * width</span><br><span class="line">    <span class="keyword">var</span> perimeter = (length + width) * <span class="number">2</span></span><br><span class="line">    <span class="keyword">return</span> area, perimeter</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    area, _ := rectProps(<span class="number">10.8</span>, <span class="number">5.6</span>) <span class="comment">// perimeter is discarded</span></span><br><span class="line">    fmt.Printf(<span class="string">"Area %f "</span>, area)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="四、函数的作用域"><a href="#四、函数的作用域" class="headerlink" title="四、函数的作用域"></a>四、函数的作用域</h1><p>作用域：变量可以使用的范围。</p>
<h2 id="4-1-局部变量"><a href="#4-1-局部变量" class="headerlink" title="4.1 局部变量"></a>4.1 局部变量</h2><p>一个函数内部定义的变量，就叫做局部变量</p>
<p>变量在哪里定义，就只能在哪个范围使用，超出这个范围，我们认为变量就被销毁了。</p>
<h2 id="4-2-全局变量"><a href="#4-2-全局变量" class="headerlink" title="4.2 全局变量"></a>4.2 全局变量</h2><p>一个函数外部定义的变量，就叫做全局变量</p>
<p>所有的函数都可以使用，而且共享这一份数据</p>
<h1 id="五、函数的本质"><a href="#五、函数的本质" class="headerlink" title="五、函数的本质"></a>五、函数的本质</h1><p>函数也是Go语言中的一种数据类型，可以作为另一个函数的参数，也可以作为另一个函数的返回值。</p>
<h1 id="六、defer函数"><a href="#六、defer函数" class="headerlink" title="六、defer函数"></a>六、defer函数</h1><h2 id="6-1-延迟是什么"><a href="#6-1-延迟是什么" class="headerlink" title="6.1 延迟是什么?"></a>6.1 延迟是什么?</h2><p>即延迟（defer）语句，延迟语句被用于执行一个函数调用，在这个函数之前，延迟语句返回。</p>
<h2 id="6-2-延迟函数"><a href="#6-2-延迟函数" class="headerlink" title="6.2 延迟函数"></a>6.2 延迟函数</h2><p>你可以在函数中添加多个defer语句。当函数执行到最后时，这些defer语句会按照逆序执行，最后该函数返回。特别是当你在进行一些打开资源的操作时，遇到错误需要提前返回，在返回前你需要关闭相应的资源，不然很容易造成资源泄露等问题</p>
<ul>
<li>如果有很多调用defer，那么defer是采用<code>后进先出</code>模式</li>
<li>在离开所在的方法时，执行（报错的时候也会执行）</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ReadWrite</span><span class="params">()</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">    file.Open(<span class="string">"file"</span>)</span><br><span class="line">    <span class="keyword">defer</span> file.Close()</span><br><span class="line">    <span class="keyword">if</span> failureX &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125; i</span><br><span class="line">    f failureY &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>最后才执行<code>file.Close()</code></p>
<p>示例代码：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	a := <span class="number">1</span></span><br><span class="line">	b := <span class="number">2</span></span><br><span class="line">	<span class="keyword">defer</span> fmt.Println(b)</span><br><span class="line">	fmt.Println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>示例代码：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">finished</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    fmt.Println(<span class="string">"Finished finding largest"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">largest</span><span class="params">(nums []<span class="keyword">int</span>)</span></span> &#123;  </span><br><span class="line">    <span class="keyword">defer</span> finished()    </span><br><span class="line">    fmt.Println(<span class="string">"Started finding largest"</span>)</span><br><span class="line">    max := nums[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> nums &#123;</span><br><span class="line">        <span class="keyword">if</span> v &gt; max &#123;</span><br><span class="line">            max = v</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(<span class="string">"Largest number in"</span>, nums, <span class="string">"is"</span>, max)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    nums := []<span class="keyword">int</span>&#123;<span class="number">78</span>, <span class="number">109</span>, <span class="number">2</span>, <span class="number">563</span>, <span class="number">300</span>&#125;</span><br><span class="line">    largest(nums)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Started finding largest  </span><br><span class="line">Largest number in [78 109 2 563 300] is 563  </span><br><span class="line">Finished finding largest</span><br></pre></td></tr></table></figure>

<h2 id="6-3-延迟方法"><a href="#6-3-延迟方法" class="headerlink" title="6.3 延迟方法"></a>6.3 延迟方法</h2><p>延迟并不仅仅局限于函数。延迟一个方法调用也是完全合法的。让我们编写一个小程序来测试这个。</p>
<p>示例代码：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> person <span class="keyword">struct</span> &#123;  </span><br><span class="line">    firstName <span class="keyword">string</span></span><br><span class="line">    lastName <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p person)</span> <span class="title">fullName</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    fmt.Printf(<span class="string">"%s %s"</span>,p.firstName,p.lastName)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    p := person &#123;</span><br><span class="line">        firstName: <span class="string">"John"</span>,</span><br><span class="line">        lastName: <span class="string">"Smith"</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">defer</span> p.fullName()</span><br><span class="line">    fmt.Printf(<span class="string">"Welcome "</span>)  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Welcome John Smith</span><br></pre></td></tr></table></figure>

<h2 id="6-4-延迟参数"><a href="#6-4-延迟参数" class="headerlink" title="6.4 延迟参数"></a>6.4 延迟参数</h2><p>延迟函数的参数在执行延迟语句时被执行，而不是在执行实际的函数调用时执行。</p>
<p>让我们通过一个例子来理解这个问题。</p>
<p>示例代码：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printA</span><span class="params">(a <span class="keyword">int</span>)</span></span> &#123;  </span><br><span class="line">    fmt.Println(<span class="string">"value of a in deferred function"</span>, a)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    a := <span class="number">5</span></span><br><span class="line">    <span class="keyword">defer</span> printA(a)</span><br><span class="line">    a = <span class="number">10</span></span><br><span class="line">    fmt.Println(<span class="string">"value of a before deferred function call"</span>, a)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">value of a before deferred function call 10  </span><br><span class="line">value of a in deferred function 5</span><br></pre></td></tr></table></figure>

<h2 id="6-5-堆栈的推迟"><a href="#6-5-堆栈的推迟" class="headerlink" title="6.5 堆栈的推迟"></a>6.5 堆栈的推迟</h2><p>当一个函数有多个延迟调用时，它们被添加到一个堆栈中，并在Last In First Out（LIFO）后进先出的顺序中执行。</p>
<p>我们将编写一个小程序，它使用一堆defers打印一个字符串。示例代码：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    name := <span class="string">"Naveen"</span></span><br><span class="line">    fmt.Printf(<span class="string">"Orignal String: %s\n"</span>, <span class="keyword">string</span>(name))</span><br><span class="line">    fmt.Printf(<span class="string">"Reversed String: "</span>)</span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> []<span class="keyword">rune</span>(name) &#123;</span><br><span class="line">        <span class="keyword">defer</span> fmt.Printf(<span class="string">"%c"</span>, v)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Orignal String: Naveen  </span><br><span class="line">Reversed String: neevaN</span><br></pre></td></tr></table></figure>



<h2 id="6-6-defer注意点"><a href="#6-6-defer注意点" class="headerlink" title="6.6 defer注意点"></a>6.6 defer注意点</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">defer函数：</span><br><span class="line">当外围函数中的语句正常执行完毕时，只有其中所有的延迟函数都执行完毕，外围函数才会真正的结束执行。</span><br><span class="line">当执行外围函数中的return语句时，只有其中所有的延迟函数都执行完毕后，外围函数才会真正返回。</span><br><span class="line">当外围函数中的代码引发运行恐慌时，只有其中所有的延迟函数都执行完毕后，该运行时恐慌才会真正被扩展至调用函数。</span><br></pre></td></tr></table></figure>



<p><strong>代码</strong><br>数组相关代码</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">		数据类型：</span></span><br><span class="line"><span class="comment">			基本类型：整数，浮点，布尔，字符串</span></span><br><span class="line"><span class="comment">			复合类型：array，slice，map，struct，pointer，function，channel。。。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		数组：</span></span><br><span class="line"><span class="comment">			1.概念：存储一组相同数据类型的数据结构</span></span><br><span class="line"><span class="comment">					理解为容器，存储一组数据</span></span><br><span class="line"><span class="comment">			2.语法：</span></span><br><span class="line"><span class="comment">					var 数组名 [长度] 数据类型</span></span><br><span class="line"><span class="comment">					var 数组名 = [长度] 数据类型&#123;元素1，元素2.。。&#125;</span></span><br><span class="line"><span class="comment">					数组名 := [...]数据类型&#123;元素。。。&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">			3.通过下标访问</span></span><br><span class="line"><span class="comment">				下标，也叫索引：index，</span></span><br><span class="line"><span class="comment">				默认从0开始的整数，直到长度减1</span></span><br><span class="line"><span class="comment">				数组名[index]</span></span><br><span class="line"><span class="comment">					赋值</span></span><br><span class="line"><span class="comment">					取值</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">				不能越界：[0,长度-1]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">			4.长度和容量：go语言的内置函数</span></span><br><span class="line"><span class="comment">				len(array/map/slice/string)，长度</span></span><br><span class="line"><span class="comment">				cap()，容量</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line"></span><br><span class="line">	 <span class="keyword">var</span> num1 <span class="keyword">int</span></span><br><span class="line">	 num1 = <span class="number">100</span></span><br><span class="line"></span><br><span class="line">	 num1 = <span class="number">200</span></span><br><span class="line">	 fmt.Println(num1)</span><br><span class="line">	 fmt.Printf(<span class="string">"%p\n"</span>,&amp;num1)</span><br><span class="line"></span><br><span class="line">	 <span class="comment">//step1：创建数组</span></span><br><span class="line">	 <span class="keyword">var</span> arr1 [<span class="number">4</span>] <span class="keyword">int</span></span><br><span class="line">	 fmt.Printf(<span class="string">"%p\n"</span>,&amp;arr1)</span><br><span class="line">	 <span class="comment">//step2：数组的访问</span></span><br><span class="line">	 arr1[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">	 arr1[<span class="number">1</span>] = <span class="number">2</span></span><br><span class="line">	 arr1[<span class="number">2</span>] = <span class="number">3</span></span><br><span class="line">	 arr1[<span class="number">3</span>] = <span class="number">4</span></span><br><span class="line">	 fmt.Println(arr1[<span class="number">0</span>])<span class="comment">//打印第一个数值</span></span><br><span class="line">	 fmt.Println(arr1[<span class="number">2</span>])<span class="comment">//打印第三个数值</span></span><br><span class="line">	 <span class="comment">//fmt.Println(arr1[4]) //invalid array index 4 (out of bounds for 4-element array)</span></span><br><span class="line"></span><br><span class="line">	 fmt.Println(<span class="string">"数组的长度："</span>,<span class="built_in">len</span>(arr1)) <span class="comment">//容器中实际存储的数据量</span></span><br><span class="line">	 fmt.Println(<span class="string">"数组的容量："</span>,<span class="built_in">cap</span>(arr1)) <span class="comment">//容器中能够存储的最大的数量</span></span><br><span class="line">	 <span class="comment">//因为数组定长，长度和容量相同</span></span><br><span class="line">	 arr1[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line">	 fmt.Println(arr1[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">	<span class="comment">//数组的其他创建方式</span></span><br><span class="line">	<span class="keyword">var</span> a [<span class="number">4</span>] <span class="keyword">int</span> <span class="comment">//同 var a= [4] int</span></span><br><span class="line">	fmt.Println(a)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> b = [<span class="number">4</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;</span><br><span class="line">	fmt.Println(b)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> c = [<span class="number">5</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>&#125;</span><br><span class="line">	fmt.Println(c)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> d = [<span class="number">5</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>:<span class="number">1</span>,<span class="number">3</span>:<span class="number">2</span>&#125;</span><br><span class="line">	fmt.Println(d)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> e = [<span class="number">5</span>]<span class="keyword">string</span>&#123;<span class="string">"rose"</span>,<span class="string">"王二狗"</span>,<span class="string">"ruby"</span>&#125;</span><br><span class="line">	fmt.Println(e)</span><br><span class="line"></span><br><span class="line">	f := [...]<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br><span class="line">	fmt.Println(f)</span><br><span class="line">	fmt.Println(<span class="built_in">len</span>(f))</span><br><span class="line">	g:=[...]<span class="keyword">int</span>&#123;<span class="number">1</span>:<span class="number">3</span>,<span class="number">6</span>:<span class="number">5</span>&#125;</span><br><span class="line">	fmt.Println(g)</span><br><span class="line">	fmt.Println(<span class="built_in">len</span>(g))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	一维数组：存储的多个数据是数值本身</span></span><br><span class="line"><span class="comment">		a1 :=[3]int&#123;1,2,3&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	二维数组：存储的是一维的一维</span></span><br><span class="line"><span class="comment">		a2 := [3][4]int&#123;&#123;&#125;,&#123;&#125;,&#123;&#125;&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		该二维数组的长度，就是3。</span></span><br><span class="line"><span class="comment">		存储的元素是一维数组，一维数组的元素是数值，每个一维数组长度为4。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	多维数组：。。。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	a2 := [<span class="number">3</span>][<span class="number">4</span>]<span class="keyword">int</span>&#123;&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;, &#123;<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>&#125;, &#123;<span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>&#125;&#125;</span><br><span class="line">	fmt.Println(a2)</span><br><span class="line">	fmt.Printf(<span class="string">"二维数组的地址：%p\n"</span>, &amp;a2)</span><br><span class="line">	fmt.Printf(<span class="string">"二维数组的长度：%d\n"</span>, <span class="built_in">len</span>(a2))</span><br><span class="line"></span><br><span class="line">	fmt.Printf(<span class="string">"一维数组的长度：%d\n"</span>, <span class="built_in">len</span>(a2[<span class="number">0</span>]))</span><br><span class="line">	fmt.Println(a2[<span class="number">0</span>][<span class="number">3</span>]) <span class="comment">// 4</span></span><br><span class="line">	fmt.Println(a2[<span class="number">1</span>][<span class="number">2</span>]) <span class="comment">//7</span></span><br><span class="line">	fmt.Println(a2[<span class="number">2</span>][<span class="number">1</span>]) <span class="comment">// 10</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//遍历二维数组</span></span><br><span class="line">	<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(a2);i++&#123;</span><br><span class="line">		<span class="keyword">for</span> j:=<span class="number">0</span>;j&lt;<span class="built_in">len</span>(a2[i]);j++&#123;</span><br><span class="line">			fmt.Print(a2[i][j],<span class="string">"\t"</span>)</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Println()</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">"---------------------"</span>)</span><br><span class="line">	<span class="comment">//for range 遍历二维数组</span></span><br><span class="line">	<span class="keyword">for</span> _,arr := <span class="keyword">range</span> a2&#123;</span><br><span class="line">		<span class="keyword">for</span> _,val := <span class="keyword">range</span> arr&#123;</span><br><span class="line">			fmt.Print(val,<span class="string">"\t"</span>)</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Println()</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	数组的遍历：</span></span><br><span class="line"><span class="comment">		依次访问数组中的元素</span></span><br><span class="line"><span class="comment">		方法一：arr[0],arr[1],arr[2]....</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		方法二：通过循环，配合下标</span></span><br><span class="line"><span class="comment">			for i:=0;i&lt;len(arr);i++&#123;</span></span><br><span class="line"><span class="comment">				arr[i]</span></span><br><span class="line"><span class="comment">			&#125;</span></span><br><span class="line"><span class="comment">		方法三：使用range</span></span><br><span class="line"><span class="comment">			range，词义"范围"</span></span><br><span class="line"><span class="comment">			不需要操作数组的下标，到达数组的末尾，自动结束for range循环。</span></span><br><span class="line"><span class="comment">				每次都数组中获取下标和对应的数值。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	 arr1 := [<span class="number">5</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br><span class="line">	 fmt.Println(arr1[<span class="number">0</span>])</span><br><span class="line">	 fmt.Println(arr1[<span class="number">1</span>])</span><br><span class="line">	 fmt.Println(arr1[<span class="number">2</span>])</span><br><span class="line">	 fmt.Println(arr1[<span class="number">3</span>])</span><br><span class="line">	 fmt.Println(arr1[<span class="number">4</span>])</span><br><span class="line"></span><br><span class="line">	 fmt.Println(<span class="string">"---------------"</span>)</span><br><span class="line">	 <span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(arr1);i++&#123;</span><br><span class="line">	 	arr1[i] = i*<span class="number">2</span>+<span class="number">1</span></span><br><span class="line">	 	fmt.Println(arr1[i])</span><br><span class="line">	 &#125;</span><br><span class="line">	 fmt.Println(arr1)</span><br><span class="line"></span><br><span class="line">	 fmt.Println(<span class="string">"----------------"</span>)</span><br><span class="line">	 <span class="keyword">for</span> index,value := <span class="keyword">range</span> arr1&#123;</span><br><span class="line">	 	fmt.Printf(<span class="string">"下标是：%d,数值是:%d\n"</span>,index,value)</span><br><span class="line">	 &#125;</span><br><span class="line"></span><br><span class="line">	 sum := <span class="number">0</span></span><br><span class="line">	 <span class="keyword">for</span> _,v:=<span class="keyword">range</span> arr1&#123;</span><br><span class="line">	 	sum += v</span><br><span class="line">	 &#125;</span><br><span class="line">	 fmt.Println(sum)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	数组的排序：</span></span><br><span class="line"><span class="comment">		让数组中的元素具有一定的顺序。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		arr :=[5]int&#123;15,23,8,10,7&#125;</span></span><br><span class="line"><span class="comment">			升序：[7,8,10,15,23]</span></span><br><span class="line"><span class="comment">			将序：[23,15,10,8,7]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	排序算法：</span></span><br><span class="line"><span class="comment">		冒泡排序，插入排序，选择排序，希尔排序，堆排序，快速排序。。。。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	冒泡排序：（Bubble Sort）</span></span><br><span class="line"><span class="comment">		依次比较两个相邻的元素，如果他们的顺序（如从大到小）就把他们交换过来。</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	arr := [<span class="number">5</span>]<span class="keyword">int</span>&#123;<span class="number">15</span>, <span class="number">23</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">7</span>&#125;</span><br><span class="line">	<span class="comment">////第一轮排序</span></span><br><span class="line">	<span class="comment">//for j := 0; j &lt; 4; j++ &#123;</span></span><br><span class="line">	<span class="comment">//	if arr[j] &gt; arr[j+1] &#123;</span></span><br><span class="line">	<span class="comment">//		arr[j], arr[j+1] = arr[j+1], arr[j]</span></span><br><span class="line">	<span class="comment">//	&#125;</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line">	<span class="comment">//fmt.Println(arr)</span></span><br><span class="line">	<span class="comment">//</span></span><br><span class="line">	<span class="comment">////第二轮排序</span></span><br><span class="line">	<span class="comment">//for j:=0;j&lt;3;j++&#123;</span></span><br><span class="line">	<span class="comment">//	if arr[j] &gt; arr[j+1] &#123;</span></span><br><span class="line">	<span class="comment">//		arr[j], arr[j+1] = arr[j+1], arr[j]</span></span><br><span class="line">	<span class="comment">//	&#125;</span></span><br><span class="line">	<span class="comment">//&#125;</span></span><br><span class="line">	<span class="comment">//fmt.Println(arr)</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i:=<span class="number">1</span>;i&lt;<span class="built_in">len</span>(arr);i++&#123;</span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="built_in">len</span>(arr)-i; j++ &#123;</span><br><span class="line">			<span class="keyword">if</span> arr[j] &gt; arr[j+<span class="number">1</span>] &#123;</span><br><span class="line">				arr[j], arr[j+<span class="number">1</span>] = arr[j+<span class="number">1</span>], arr[j]</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Println(arr)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">		数据类型：</span></span><br><span class="line"><span class="comment">			基本类型：int，float，string，bool。。</span></span><br><span class="line"><span class="comment">			复合类型：array，slice，map，function，pointer，channel。。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		数组的数据类型：</span></span><br><span class="line"><span class="comment">			[size]type</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		值类型：理解为存储的数值本身</span></span><br><span class="line"><span class="comment">			将数据传递给其他的变量，传递的是数据的副本(备份)</span></span><br><span class="line"><span class="comment">				int,float,string,bool,array</span></span><br><span class="line"><span class="comment">		引用类型：理解为存储的数据的内存地址</span></span><br><span class="line"><span class="comment">				slice，map。。</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//1.数据类型</span></span><br><span class="line">	num := <span class="number">10</span></span><br><span class="line">	fmt.Printf(<span class="string">"%T\n"</span>, num)</span><br><span class="line"></span><br><span class="line">	arr1 := [<span class="number">4</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">	arr2 := [<span class="number">3</span>]<span class="keyword">float64</span>&#123;<span class="number">2.15</span>, <span class="number">3.18</span>, <span class="number">6.19</span>&#125;</span><br><span class="line">	arr3 := [<span class="number">4</span>]<span class="keyword">int</span>&#123;<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>&#125;</span><br><span class="line">	arr4 := [<span class="number">2</span>]<span class="keyword">string</span>&#123;<span class="string">"hello"</span>, <span class="string">"world"</span>&#125;</span><br><span class="line">	fmt.Printf(<span class="string">"%T\n"</span>, arr1) <span class="comment">//[4]int</span></span><br><span class="line">	fmt.Printf(<span class="string">"%T\n"</span>, arr2) <span class="comment">//[3]float64</span></span><br><span class="line">	fmt.Printf(<span class="string">"%T\n"</span>, arr3) <span class="comment">//[4]int</span></span><br><span class="line">	fmt.Printf(<span class="string">"%T\n"</span>, arr4) <span class="comment">//[2]string</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//2.赋值</span></span><br><span class="line">	num2 := num <span class="comment">//值传递</span></span><br><span class="line">	fmt.Println(num, num2) <span class="comment">//10 10</span></span><br><span class="line">	num2 = <span class="number">20</span></span><br><span class="line">	fmt.Println(num, num2) <span class="comment">//10 20</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//数组呢</span></span><br><span class="line">	arr5 := arr1 <span class="comment">//值传递</span></span><br><span class="line">	fmt.Println(arr1)</span><br><span class="line">	fmt.Println(arr5)</span><br><span class="line"></span><br><span class="line">	arr5[<span class="number">0</span>] =<span class="number">1</span></span><br><span class="line">	fmt.Println(arr1)</span><br><span class="line">	fmt.Println(arr5)</span><br><span class="line"></span><br><span class="line">	a := <span class="number">3</span></span><br><span class="line">	b := <span class="number">4</span></span><br><span class="line">	fmt.Println(a==b) <span class="comment">//比较a和b的数值是否相等</span></span><br><span class="line">	fmt.Println(arr5 == arr1) <span class="comment">//比较数组的对应下标位置的数值是否相等</span></span><br><span class="line">	<span class="comment">//fmt.Println(arr1 == arr2) //invalid operation: arr1 == arr2 (mismatched types [4]int and [3]float64)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>切片相关代码</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	数组array：</span></span><br><span class="line"><span class="comment">		存储一组相同数据类型的数据结构。</span></span><br><span class="line"><span class="comment">			特点：定长</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	切片slice：</span></span><br><span class="line"><span class="comment">		同数组类似，也叫做变长数组或者动态数组。</span></span><br><span class="line"><span class="comment">			特点：变长</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		是一个引用类型的容器，指向了一个底层数组。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	make()</span></span><br><span class="line"><span class="comment">		func make(t Type, size ...IntegerType) Type</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		第一个参数：类型</span></span><br><span class="line"><span class="comment">			slice，map，chan</span></span><br><span class="line"><span class="comment">		第二个参数：长度len</span></span><br><span class="line"><span class="comment">			实际存储元素的数量</span></span><br><span class="line"><span class="comment">		第三个参数：容量cap</span></span><br><span class="line"><span class="comment">			最多能够存储的元素的数量</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	append()，专门用于向切片的尾部追加元素</span></span><br><span class="line"><span class="comment">		slice = append(slice, elem1, elem2)</span></span><br><span class="line"><span class="comment">		slice = append(slice, anotherSlice...)</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	 <span class="comment">//1.数组</span></span><br><span class="line">	 arr := [<span class="number">4</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;<span class="comment">//定长</span></span><br><span class="line">	 fmt.Println(arr)</span><br><span class="line"></span><br><span class="line">	 <span class="comment">//2.切片</span></span><br><span class="line">	 <span class="keyword">var</span> s1 []<span class="keyword">int</span></span><br><span class="line">	 fmt.Println(s1)</span><br><span class="line"></span><br><span class="line">	 s2 := []<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125; <span class="comment">//变长</span></span><br><span class="line">	 fmt.Println(s2)</span><br><span class="line">	 fmt.Printf(<span class="string">"%T,%T\n"</span>,arr,s2) <span class="comment">//[4]int,[]int</span></span><br><span class="line"></span><br><span class="line">	 s3 := <span class="built_in">make</span>([]<span class="keyword">int</span>,<span class="number">3</span>,<span class="number">8</span>)</span><br><span class="line">	 fmt.Println(s3)</span><br><span class="line">	 fmt.Printf(<span class="string">"容量：%d,长度：%d\n"</span>,<span class="built_in">cap</span>(s3),<span class="built_in">len</span>(s3))</span><br><span class="line">	 s3[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">	 s3[<span class="number">1</span>] = <span class="number">2</span></span><br><span class="line">	 s3[<span class="number">2</span>] = <span class="number">3</span></span><br><span class="line">	 fmt.Println(s3)</span><br><span class="line">	 <span class="comment">//fmt.Println(s3[3]) //panic: runtime error: index out of range</span></span><br><span class="line"></span><br><span class="line">	 <span class="comment">//append()</span></span><br><span class="line">	 s4 := <span class="built_in">make</span>([]<span class="keyword">int</span>,<span class="number">0</span>,<span class="number">5</span>)</span><br><span class="line">	 fmt.Println(s4)</span><br><span class="line">	 s4 = <span class="built_in">append</span>(s4,<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">	 fmt.Println(s4)</span><br><span class="line">	 s4 = <span class="built_in">append</span>(s4,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>)</span><br><span class="line">	 fmt.Println(s4)</span><br><span class="line"></span><br><span class="line">	 s4 = <span class="built_in">append</span>(s4,s3...)</span><br><span class="line">	 fmt.Println(s4)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	 <span class="comment">//遍历切片</span></span><br><span class="line">	 <span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(s4);i++&#123;</span><br><span class="line">	 	fmt.Println(s4[i])</span><br><span class="line">	 &#125;</span><br><span class="line"></span><br><span class="line">	 <span class="keyword">for</span> i,v :=<span class="keyword">range</span> s4&#123;</span><br><span class="line">	 	fmt.Printf(<span class="string">"%d--&gt;%d\n"</span>,i,v)</span><br><span class="line">	 &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	切片Slice：</span></span><br><span class="line"><span class="comment">		1.每一个切片引用了一个底层数组</span></span><br><span class="line"><span class="comment">		2.切片本身不存储任何数据，都是这个底层数组存储，所以修改切片也就是修改这个数组中的数据</span></span><br><span class="line"><span class="comment">		3.当向切片中添加数据时，如果没有超过容量，直接添加，如果超过容量，自动扩容(成倍增长)</span></span><br><span class="line"><span class="comment">		4.切片一旦扩容，就是重新指向一个新的底层数组</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	s1:3---&gt;6---&gt;12---&gt;24</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	s2:4---&gt;8---&gt;16---&gt;32....</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	s1 := []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">	fmt.Println(s1)</span><br><span class="line">	fmt.Printf(<span class="string">"len:%d,cap:%d\n"</span>, <span class="built_in">len</span>(s1), <span class="built_in">cap</span>(s1)) <span class="comment">//len:3,cap:3</span></span><br><span class="line">	fmt.Printf(<span class="string">"%p\n"</span>, s1)</span><br><span class="line"></span><br><span class="line">	s1 = <span class="built_in">append</span>(s1, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line">	fmt.Println(s1)</span><br><span class="line">	fmt.Printf(<span class="string">"len:%d,cap:%d\n"</span>, <span class="built_in">len</span>(s1), <span class="built_in">cap</span>(s1)) <span class="comment">//len:5,cap:6</span></span><br><span class="line">	fmt.Printf(<span class="string">"%p\n"</span>, s1)</span><br><span class="line"></span><br><span class="line">	s1 = <span class="built_in">append</span>(s1,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>)</span><br><span class="line">	fmt.Println(s1)</span><br><span class="line">	fmt.Printf(<span class="string">"len:%d,cap:%d\n"</span>, <span class="built_in">len</span>(s1), <span class="built_in">cap</span>(s1)) <span class="comment">//len:8,cap:12</span></span><br><span class="line">	fmt.Printf(<span class="string">"%p\n"</span>, s1)</span><br><span class="line"></span><br><span class="line">	s1 = <span class="built_in">append</span>(s1,<span class="number">9</span>,<span class="number">10</span>)</span><br><span class="line">	fmt.Println(s1)</span><br><span class="line">	fmt.Printf(<span class="string">"len:%d,cap:%d\n"</span>, <span class="built_in">len</span>(s1), <span class="built_in">cap</span>(s1)) <span class="comment">//len:10,cap:12</span></span><br><span class="line">	fmt.Printf(<span class="string">"%p\n"</span>, s1)</span><br><span class="line"></span><br><span class="line">	s1 = <span class="built_in">append</span>(s1,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>)</span><br><span class="line">	fmt.Println(s1)</span><br><span class="line">	fmt.Printf(<span class="string">"len:%d,cap:%d\n"</span>, <span class="built_in">len</span>(s1), <span class="built_in">cap</span>(s1)) <span class="comment">//len:15,cap:24</span></span><br><span class="line">	fmt.Printf(<span class="string">"%p\n"</span>, s1)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	slice := arr[start:end]</span></span><br><span class="line"><span class="comment">	 	切片中的数据：[start,end)</span></span><br><span class="line"><span class="comment">	 	arr[:end],从头到end</span></span><br><span class="line"><span class="comment">	 	arr[start:]从start到末尾</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	 从已有的数组上，直接创建切片，该切片的底层数组就是当前的数组。</span></span><br><span class="line"><span class="comment">	 	长度是从start到end切割的数据量。</span></span><br><span class="line"><span class="comment">		但是容量从start到数组的末尾。</span></span><br><span class="line"><span class="comment">	  */</span></span><br><span class="line">	a := [<span class="number">10</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>&#125;</span><br><span class="line">	fmt.Println(<span class="string">"----------1.已有数组直接创建切片--------------------"</span>)</span><br><span class="line">	s1 := a[:<span class="number">5</span>]  <span class="comment">//1-5</span></span><br><span class="line">	s2 := a[<span class="number">3</span>:<span class="number">8</span>] <span class="comment">//4-8</span></span><br><span class="line">	s3 := a[<span class="number">5</span>:]  <span class="comment">// 6-10</span></span><br><span class="line">	s4 := a[:]   <span class="comment">// 1-10</span></span><br><span class="line">	fmt.Println(<span class="string">"a:"</span>, a)</span><br><span class="line">	fmt.Println(<span class="string">"s1:"</span>, s1)</span><br><span class="line">	fmt.Println(<span class="string">"s2:"</span>, s2)</span><br><span class="line">	fmt.Println(<span class="string">"s3:"</span>, s3)</span><br><span class="line">	fmt.Println(<span class="string">"s4:"</span>, s4)</span><br><span class="line"></span><br><span class="line">	fmt.Printf(<span class="string">"%p\n"</span>,&amp;a)</span><br><span class="line">	fmt.Printf(<span class="string">"%p\n"</span>,s1)</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">"----------2.长度和容量--------------------"</span>)</span><br><span class="line">	fmt.Printf(<span class="string">"s1	len:%d,cap:%d\n"</span>,<span class="built_in">len</span>(s1),<span class="built_in">cap</span>(s1)) <span class="comment">//s1	len:5,cap:10</span></span><br><span class="line">	fmt.Printf(<span class="string">"s2	len:%d,cap:%d\n"</span>,<span class="built_in">len</span>(s2),<span class="built_in">cap</span>(s2)) <span class="comment">//s2	len:5,cap:7</span></span><br><span class="line">	fmt.Printf(<span class="string">"s3	len:%d,cap:%d\n"</span>,<span class="built_in">len</span>(s3),<span class="built_in">cap</span>(s3)) <span class="comment">//s3	len:5,cap:5</span></span><br><span class="line">	fmt.Printf(<span class="string">"s4	len:%d,cap:%d\n"</span>,<span class="built_in">len</span>(s4),<span class="built_in">cap</span>(s4)) <span class="comment">//s4	len:10,cap:10</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">"----------3.更改数组的内容--------------------"</span>)</span><br><span class="line">	a[<span class="number">4</span>] =<span class="number">100</span></span><br><span class="line">	fmt.Println(a)</span><br><span class="line">	fmt.Println(s1)</span><br><span class="line">	fmt.Println(s2)</span><br><span class="line">	fmt.Println(s3)</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">"----------4.更改切片的内容--------------------"</span>)</span><br><span class="line">	s2[<span class="number">2</span>] =<span class="number">200</span></span><br><span class="line">	fmt.Println(a)</span><br><span class="line">	fmt.Println(s1)</span><br><span class="line">	fmt.Println(s2)</span><br><span class="line">	fmt.Println(s3)</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">"----------4.更改切片的内容--------------------"</span>)</span><br><span class="line">	s1 = <span class="built_in">append</span>(s1,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">	fmt.Println(a)</span><br><span class="line">	fmt.Println(s1)</span><br><span class="line">	fmt.Println(s2)</span><br><span class="line">	fmt.Println(s3)</span><br><span class="line">	fmt.Println(<span class="string">"----------5.添加元素切片扩容--------------------"</span>)</span><br><span class="line">	fmt.Println(<span class="built_in">len</span>(s1),<span class="built_in">cap</span>(s1))</span><br><span class="line"></span><br><span class="line">	s1 = <span class="built_in">append</span>(s1,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line">	fmt.Println(a)</span><br><span class="line">	fmt.Println(s1)</span><br><span class="line">	fmt.Println(s2)</span><br><span class="line">	fmt.Println(s3)</span><br><span class="line">	fmt.Println(<span class="built_in">len</span>(s1),<span class="built_in">cap</span>(s1))</span><br><span class="line">	fmt.Printf(<span class="string">"%p\n"</span>,s1)</span><br><span class="line">	fmt.Printf(<span class="string">"%p\n"</span>,&amp;a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	按照类型来分：</span></span><br><span class="line"><span class="comment">		基本类型：int，float，string，bool</span></span><br><span class="line"><span class="comment">		复合类型：array，slice，map，struct，pointer，function，chan</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	按照特点来分：</span></span><br><span class="line"><span class="comment">		值类型：int，float，string，bool，array</span></span><br><span class="line"><span class="comment">			传递的是数据副本</span></span><br><span class="line"><span class="comment">		引用类型：Slice</span></span><br><span class="line"><span class="comment">			传递的地址,多个变量指向了同一块内存地址，</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	所以：切片是引用类型的数据，存储了底层数组的引用</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line"></span><br><span class="line">	 <span class="comment">//1.数组：值类型</span></span><br><span class="line">	a1 := [<span class="number">4</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;</span><br><span class="line">	a2 := a1  <span class="comment">//值传递：传递的是数据</span></span><br><span class="line">	fmt.Println(a1,a1)</span><br><span class="line">	a1[<span class="number">0</span>] =<span class="number">100</span></span><br><span class="line">	fmt.Println(a1,a2)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//2.切片：引用类型</span></span><br><span class="line">	s1 :=[]<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;</span><br><span class="line">	s2 := s1</span><br><span class="line">	fmt.Println(s1,s2)</span><br><span class="line">	s1[<span class="number">0</span>] =<span class="number">100</span></span><br><span class="line">	fmt.Println(s1,s2)</span><br><span class="line"></span><br><span class="line">	fmt.Printf(<span class="string">"%p\n"</span>,s1)</span><br><span class="line">	fmt.Printf(<span class="string">"%p\n"</span>,s2)</span><br><span class="line">	fmt.Printf(<span class="string">"%p\n"</span>,&amp;s1)</span><br><span class="line">	fmt.Printf(<span class="string">"%p\n"</span>,&amp;s2)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	深拷贝：拷贝的是数据本身。</span></span><br><span class="line"><span class="comment">			值类型的数据，默认都是深拷贝：array，int，float，string，bool，struct</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		浅拷贝：拷贝的是数据 地址。</span></span><br><span class="line"><span class="comment">			导致多个变量指向同一块内存</span></span><br><span class="line"><span class="comment">			引用类型的数据，默认都是浅拷贝：slice，map，</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">			因为切片是引用类型的数据，直接拷贝的是地址。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	func copy(dst, src []Type) int</span></span><br><span class="line"><span class="comment">		可以实现切片的拷贝</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line"></span><br><span class="line">	 s1 := []<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;</span><br><span class="line">	 s2 := <span class="built_in">make</span>([]<span class="keyword">int</span>,<span class="number">0</span>) <span class="comment">//len:0,cap:0</span></span><br><span class="line">	 <span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(s1);i++&#123;</span><br><span class="line">	 	s2 = <span class="built_in">append</span>(s2,s1[i])</span><br><span class="line">	 &#125;</span><br><span class="line">	 fmt.Println(s1)</span><br><span class="line">	 fmt.Println(s2)</span><br><span class="line"></span><br><span class="line">	 s1[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line">	 fmt.Println(s1)</span><br><span class="line">	 fmt.Println(s2)</span><br><span class="line"></span><br><span class="line">	 <span class="comment">//copy()</span></span><br><span class="line">	 s3 := []<span class="keyword">int</span>&#123;<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>&#125;</span><br><span class="line">	 fmt.Println(s2)</span><br><span class="line">	 fmt.Println(s3)</span><br><span class="line"></span><br><span class="line">	 <span class="comment">//copy(s2,s3) //将s3中的元素，拷贝到s2中</span></span><br><span class="line">	 <span class="comment">//copy(s3,s2) //将s2中的元素，拷贝到s3中</span></span><br><span class="line">	 <span class="built_in">copy</span>(s3[<span class="number">1</span>:],s2[<span class="number">2</span>:])</span><br><span class="line">	 fmt.Println(s2)</span><br><span class="line">	 fmt.Println(s3)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>集合相关代码</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	map：映射，是一种专门用于存储键值对的集合。属于引用类型</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	存储特点：</span></span><br><span class="line"><span class="comment">		A：存储的是无序的键值对</span></span><br><span class="line"><span class="comment">		B：键不能重复，并且和value值一一对应的。</span></span><br><span class="line"><span class="comment">				map中的key不能重复，如果重复，那么新的value会覆盖原来的，程序不会报错。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	语法结构：</span></span><br><span class="line"><span class="comment">		1.创建map</span></span><br><span class="line"><span class="comment">			var map1 map[key类型]value类型</span></span><br><span class="line"><span class="comment">				nil map，无法直接使用</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">			var map2 = make(map[key类型])value类型</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">			var map3 = map[key类型]value类型&#123;key:value,key:value,key:value...&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		2.添加/修改</span></span><br><span class="line"><span class="comment">			map[key]=value</span></span><br><span class="line"><span class="comment">				如果key不存在，就是添加数据</span></span><br><span class="line"><span class="comment">				如果key存在，就是修改数据</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		3.获取</span></span><br><span class="line"><span class="comment">			map[key]--&gt;value</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">			value,ok := map[key]</span></span><br><span class="line"><span class="comment">				根据key获取对应的value</span></span><br><span class="line"><span class="comment">					如果key存在，value就是对应的数据，ok为true</span></span><br><span class="line"><span class="comment">					如果key不存在，value就是值类型的默认值，ok为false</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		4.删除数据：</span></span><br><span class="line"><span class="comment">			delete(map，key)</span></span><br><span class="line"><span class="comment">				如果key存在，就可以直接删除</span></span><br><span class="line"><span class="comment">				如果key不存在，删除失败</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		5.长度：</span></span><br><span class="line"><span class="comment">			len()</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	每种数据类型：</span></span><br><span class="line"><span class="comment">		int：0</span></span><br><span class="line"><span class="comment">		float：0.0--&gt;0</span></span><br><span class="line"><span class="comment">		string:""</span></span><br><span class="line"><span class="comment">		array:[00000]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		slice：nil</span></span><br><span class="line"><span class="comment">		map：nil</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//1.创建map</span></span><br><span class="line">	<span class="keyword">var</span> map1 <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">string</span>         <span class="comment">//没有初始化，nil</span></span><br><span class="line">	<span class="keyword">var</span> map2 = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">string</span>) <span class="comment">//创建</span></span><br><span class="line">	<span class="keyword">var</span> map3 = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>&#123;<span class="string">"Go"</span>: <span class="number">98</span>, <span class="string">"Python"</span>: <span class="number">87</span>, <span class="string">"Java"</span>: <span class="number">79</span>, <span class="string">"Html"</span>: <span class="number">93</span>&#125;</span><br><span class="line">	fmt.Println(map1)</span><br><span class="line">	fmt.Println(map2)</span><br><span class="line">	fmt.Println(map3)</span><br><span class="line"></span><br><span class="line">	fmt.Println(map1 == <span class="literal">nil</span>)</span><br><span class="line">	fmt.Println(map2 == <span class="literal">nil</span>)</span><br><span class="line">	fmt.Println(map3 == <span class="literal">nil</span>)</span><br><span class="line">	<span class="comment">//2.nil map</span></span><br><span class="line">	<span class="keyword">if</span> map1 == <span class="literal">nil</span> &#123;</span><br><span class="line">		map1 = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">string</span>)</span><br><span class="line">		fmt.Println(map1 == <span class="literal">nil</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//3.存储键值对到map中</span></span><br><span class="line">	<span class="comment">//map1[key] = value</span></span><br><span class="line">	map1[<span class="number">1</span>] = <span class="string">"hello"</span> <span class="comment">//panic: assignment to entry in nil map</span></span><br><span class="line">	map1[<span class="number">2</span>] = <span class="string">"world"</span></span><br><span class="line">	map1[<span class="number">3</span>] = <span class="string">"memeda"</span></span><br><span class="line">	map1[<span class="number">4</span>] = <span class="string">"王二狗"</span></span><br><span class="line">	map1[<span class="number">5</span>] = <span class="string">"ruby"</span></span><br><span class="line">	map1[<span class="number">6</span>] = <span class="string">"三胖思密达"</span></span><br><span class="line">	map1[<span class="number">7</span>] = <span class="string">""</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//4.获取数据，根据key获取对应的value值</span></span><br><span class="line">	<span class="comment">//根据key获取对应的value，如果key存在，获取数值，如果key不存在，获取的是value值类型的零值</span></span><br><span class="line">	fmt.Println(map1)</span><br><span class="line">	fmt.Println(map1[<span class="number">4</span>]) <span class="comment">//根据key为4，获取对应的value值</span></span><br><span class="line">	fmt.Println(map1[<span class="number">40</span>]) <span class="comment">//""</span></span><br><span class="line"></span><br><span class="line">	v1,ok :=map1[<span class="number">40</span>]</span><br><span class="line">	<span class="keyword">if</span> ok &#123;</span><br><span class="line">		fmt.Println(<span class="string">"对应的数值是："</span>,v1)</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		fmt.Println(<span class="string">"操作的key不存在，获取到的是零值："</span>,v1)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//5.修改数据</span></span><br><span class="line">	fmt.Println(map1)</span><br><span class="line">	map1[<span class="number">3</span>] = <span class="string">"如花"</span></span><br><span class="line">	fmt.Println(map1)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//6.删除数据</span></span><br><span class="line">	<span class="built_in">delete</span>(map1,<span class="number">3</span>)</span><br><span class="line">	fmt.Println(map1)</span><br><span class="line">	<span class="built_in">delete</span>(map1,<span class="number">30</span>)</span><br><span class="line">	fmt.Println(map1)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//7.长度</span></span><br><span class="line">	fmt.Println(<span class="built_in">len</span>(map1))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"sort"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	map的遍历：</span></span><br><span class="line"><span class="comment">		使用：for range</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">			数组，切片：index，value</span></span><br><span class="line"><span class="comment">			map：key，value</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	map1 := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">string</span>)</span><br><span class="line">	map1[<span class="number">1</span>] = <span class="string">"红孩儿"</span></span><br><span class="line">	map1[<span class="number">2</span>] = <span class="string">"小钻风"</span></span><br><span class="line">	map1[<span class="number">3</span>] = <span class="string">"白骨精"</span></span><br><span class="line">	map1[<span class="number">4</span>] = <span class="string">"白素贞"</span></span><br><span class="line">	map1[<span class="number">5</span>] = <span class="string">"金角大王"</span></span><br><span class="line">	map1[<span class="number">6</span>] = <span class="string">"王二狗"</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//1.遍历map</span></span><br><span class="line">	<span class="keyword">for</span> k, v := <span class="keyword">range</span> map1 &#123;</span><br><span class="line">		fmt.Println(k, v)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">"----------------------"</span>)</span><br><span class="line">	<span class="keyword">for</span> i:=<span class="number">1</span>;i&lt;=<span class="built_in">len</span>(map1);i++&#123;</span><br><span class="line">		fmt.Println(i,<span class="string">"---&gt;"</span>,map1[i])</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	1.获取所有的key，--&gt;切片/数组</span></span><br><span class="line"><span class="comment">	2.进行排序</span></span><br><span class="line"><span class="comment">	3.遍历key，---&gt;map[key]</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	 keys :=<span class="built_in">make</span>([]<span class="keyword">int</span>,<span class="number">0</span>,<span class="built_in">len</span>(map1))</span><br><span class="line">	 fmt.Println(keys)</span><br><span class="line"></span><br><span class="line">	 <span class="keyword">for</span> k,_:=<span class="keyword">range</span> map1&#123;</span><br><span class="line">	 	keys = <span class="built_in">append</span>(keys,k)</span><br><span class="line">	 &#125;</span><br><span class="line">	 fmt.Println(keys)</span><br><span class="line"></span><br><span class="line">	 <span class="comment">//冒泡排序，或者使用sort包下的排序方法</span></span><br><span class="line">	 sort.Ints(keys)</span><br><span class="line">	 fmt.Println(keys)</span><br><span class="line"></span><br><span class="line">	 <span class="keyword">for</span> _,key :=<span class="keyword">range</span> keys&#123;</span><br><span class="line">	 	fmt.Println(key,map1[key])</span><br><span class="line">	 &#125;</span><br><span class="line"></span><br><span class="line">	 s1 :=[]<span class="keyword">string</span>&#123;<span class="string">"Apple"</span>,<span class="string">"Windows"</span>,<span class="string">"Orange"</span>,<span class="string">"abc"</span>,<span class="string">"王二狗"</span>,<span class="string">"acd"</span>,<span class="string">"acc"</span>&#125;</span><br><span class="line">	 fmt.Println(s1)</span><br><span class="line">	 sort.Strings(s1)</span><br><span class="line">	 fmt.Println(s1)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	map和slice的结合使用：</span></span><br><span class="line"><span class="comment">		1.创建map用于存储人的信息</span></span><br><span class="line"><span class="comment">			name，age，sex，address</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		2.每个map存储一个人的信息</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		3.将这些map存入到slice中</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">		4.打印遍历输出</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line"></span><br><span class="line">	 <span class="comment">//1.创建map存储第一个人的信息</span></span><br><span class="line">	 map1 := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>)</span><br><span class="line">	 map1[<span class="string">"name"</span>]= <span class="string">"王二狗"</span></span><br><span class="line">	 map1[<span class="string">"age"</span>] = <span class="string">"30"</span></span><br><span class="line">	 map1[<span class="string">"sex"</span>] = <span class="string">"男性"</span></span><br><span class="line">	 map1[<span class="string">"address"</span>] = <span class="string">"北京市XX路XX号"</span></span><br><span class="line">	 fmt.Println(map1)</span><br><span class="line"></span><br><span class="line">	 <span class="comment">//2.第二个人</span></span><br><span class="line">	 map2 := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>)</span><br><span class="line">	 map2[<span class="string">"name"</span>] = <span class="string">"李小花"</span></span><br><span class="line">	 map2[<span class="string">"age"</span>] = <span class="string">"20"</span></span><br><span class="line">	 map2[<span class="string">"sex"</span>] = <span class="string">"女性"</span></span><br><span class="line">	 map2[<span class="string">"address"</span>] = <span class="string">"上海市。。。"</span></span><br><span class="line">	 fmt.Println(map2)</span><br><span class="line"></span><br><span class="line">	 <span class="comment">//3.</span></span><br><span class="line">	 map3 := <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>&#123;<span class="string">"name"</span>:<span class="string">"ruby"</span>,<span class="string">"age"</span>:<span class="string">"30"</span>,<span class="string">"sex"</span>:<span class="string">"女性"</span>,<span class="string">"address"</span>:<span class="string">"杭州市"</span>&#125;</span><br><span class="line">	 fmt.Println(map3)</span><br><span class="line"></span><br><span class="line">	 <span class="comment">//将map存入到slice中</span></span><br><span class="line">	 s1 := <span class="built_in">make</span>([]<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span> ,<span class="number">0</span>,<span class="number">3</span>)</span><br><span class="line">	 s1 = <span class="built_in">append</span>(s1,map1)</span><br><span class="line">	 s1 = <span class="built_in">append</span>(s1,map2)</span><br><span class="line">	 s1= <span class="built_in">append</span>(s1,map3)</span><br><span class="line"></span><br><span class="line">	 <span class="comment">//遍历切片</span></span><br><span class="line">	 <span class="keyword">for</span> i,val :=<span class="keyword">range</span> s1 &#123;</span><br><span class="line">	 	<span class="comment">//val ：map1，map2，map3</span></span><br><span class="line">		fmt.Printf(<span class="string">"第 %d 个人的信息是：\n"</span>,i+<span class="number">1</span>)</span><br><span class="line">		fmt.Printf(<span class="string">"\t姓名：%s\n"</span>,val[<span class="string">"name"</span>])</span><br><span class="line">		fmt.Printf(<span class="string">"\t年龄：%s\n"</span>,val[<span class="string">"age"</span>])</span><br><span class="line">		fmt.Printf(<span class="string">"\t性别：%s\n"</span>,val[<span class="string">"sex"</span>])</span><br><span class="line">		fmt.Printf(<span class="string">"\t地址：%s\n"</span>,val[<span class="string">"address"</span>])</span><br><span class="line">	 &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	一：数据类型：</span></span><br><span class="line"><span class="comment">		基本数据类型：int，float，string，bool</span></span><br><span class="line"><span class="comment">		复合数据类型：array，slice，map，function，pointer，struct。。。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">			array：[size]数据类型</span></span><br><span class="line"><span class="comment">			slice：[]数据类型</span></span><br><span class="line"><span class="comment">			map：map[key的类型]value的类型</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	二：存储特点：</span></span><br><span class="line"><span class="comment">		值类型：int，float，string，bool，array，struct</span></span><br><span class="line"><span class="comment">		引用类型：slice，map</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">			make()，slice，map，chan</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line"></span><br><span class="line">	 map1 := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">string</span>)</span><br><span class="line">	 map2 :=<span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">float64</span>)</span><br><span class="line">	 fmt.Printf(<span class="string">"%T\n"</span>,map1)</span><br><span class="line">	 fmt.Printf(<span class="string">"%T\n"</span>,map2)</span><br><span class="line"></span><br><span class="line">	 map3 := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>) <span class="comment">//map[string]map[string]string</span></span><br><span class="line">	 m1 :=<span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>)</span><br><span class="line">	 m1[<span class="string">"name"</span>] = <span class="string">"王二狗"</span></span><br><span class="line">	 m1[<span class="string">"age"</span>] = <span class="string">"30"</span></span><br><span class="line">	 m1[<span class="string">"salary"</span>] = <span class="string">"3000"</span></span><br><span class="line">	 map3[<span class="string">"hr"</span>] = m1</span><br><span class="line"></span><br><span class="line">	 m2 :=<span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>)</span><br><span class="line">	 m2[<span class="string">"name"</span>]=<span class="string">"ruby"</span></span><br><span class="line">	 m2[<span class="string">"age"</span>]=<span class="string">"28"</span></span><br><span class="line">	 m2[<span class="string">"salary"</span>]=<span class="string">"8000"</span></span><br><span class="line"></span><br><span class="line">	 map3[<span class="string">"总经理"</span>]= m2</span><br><span class="line">	 fmt.Println(map3)</span><br><span class="line"></span><br><span class="line">	 fmt.Println(<span class="string">"---------------"</span>)</span><br><span class="line"></span><br><span class="line">	 map4 := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>)</span><br><span class="line">	 map4[<span class="string">"王二狗"</span>] = <span class="string">"矮矬穷"</span></span><br><span class="line">	 map4[<span class="string">"李小花"</span>] = <span class="string">"白富美"</span></span><br><span class="line">	 map4[<span class="string">"ruby"</span>] = <span class="string">"住在隔壁"</span></span><br><span class="line"></span><br><span class="line">	 fmt.Println(map4)</span><br><span class="line"></span><br><span class="line">	 map5 := map4</span><br><span class="line">	 fmt.Println(map5)</span><br><span class="line"></span><br><span class="line">	 map5[<span class="string">"王二狗"</span>]= <span class="string">"高富帅"</span></span><br><span class="line">	 fmt.Println(map4)</span><br><span class="line">	 fmt.Println(map5)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>string相关代码</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	Go中的字符串是一个字节的切片。</span></span><br><span class="line"><span class="comment">		可以通过将其内容封装在“”中来创建字符串。Go中的字符串是Unicode兼容的，并且是UTF-8编码的。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	字符串是一些字节的集合。</span></span><br><span class="line"><span class="comment">		理解为一个字符的序列。</span></span><br><span class="line"><span class="comment">		每个字符都有固定的位置(索引，下标，index：从0开始，到长度减1)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	语法：""，``</span></span><br><span class="line"><span class="comment">		""</span></span><br><span class="line"><span class="comment">		"a","b","中"</span></span><br><span class="line"><span class="comment">		"abc","hello"</span></span><br><span class="line"><span class="comment">	字符：---&gt;对应编码表中的编码值</span></span><br><span class="line"><span class="comment">		A--&gt;65</span></span><br><span class="line"><span class="comment">		B--&gt;66</span></span><br><span class="line"><span class="comment">		a--&gt;97</span></span><br><span class="line"><span class="comment">		...</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	字节：byte--&gt;uint8</span></span><br><span class="line"><span class="comment">		utf8</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	 <span class="comment">//1.定义字符串</span></span><br><span class="line">	 s1 := <span class="string">"hello中国"</span></span><br><span class="line">	 s2 := <span class="string">`hello world`</span></span><br><span class="line">	 fmt.Println(s1)</span><br><span class="line">	 fmt.Println(s2)</span><br><span class="line"></span><br><span class="line">	 <span class="comment">//2.字符串的长度：返回的是字节的个数</span></span><br><span class="line">	 fmt.Println(<span class="built_in">len</span>(s1))</span><br><span class="line">	 fmt.Println(<span class="built_in">len</span>(s2))</span><br><span class="line"></span><br><span class="line">	 <span class="comment">//3.获取某个字节</span></span><br><span class="line">	fmt.Println(s2[<span class="number">0</span>])<span class="comment">//获取字符串中的第一个字节</span></span><br><span class="line">	a := <span class="string">'h'</span></span><br><span class="line">	b := <span class="number">104</span></span><br><span class="line">	fmt.Printf(<span class="string">"%c,%c,%c\n"</span>,s2[<span class="number">0</span>],a,b)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//4.字符串的遍历</span></span><br><span class="line">	<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;<span class="built_in">len</span>(s2);i++&#123;</span><br><span class="line">		<span class="comment">//fmt.Println(s2[i])</span></span><br><span class="line">		fmt.Printf(<span class="string">"%c\t"</span>,s2[i])</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println()</span><br><span class="line"></span><br><span class="line">	<span class="comment">//for range</span></span><br><span class="line">	<span class="keyword">for</span> _,v := <span class="keyword">range</span> s2&#123;</span><br><span class="line">		<span class="comment">//fmt.Println(i,v)</span></span><br><span class="line">		fmt.Printf(<span class="string">"%c"</span>,v)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">//5.字符串是字节的集合</span></span><br><span class="line">	slice1 := []<span class="keyword">byte</span>&#123;<span class="number">65</span>,<span class="number">66</span>,<span class="number">67</span>,<span class="number">68</span>,<span class="number">69</span>&#125;</span><br><span class="line">	s3 := <span class="keyword">string</span>(slice1) <span class="comment">//根据一个字节切片，构建字符串</span></span><br><span class="line">	fmt.Println(s3)</span><br><span class="line"></span><br><span class="line">	s4 := <span class="string">"abcdef"</span></span><br><span class="line">	slice2 := []<span class="keyword">byte</span>(s4) <span class="comment">//根据字符串，获取对应的字节切片</span></span><br><span class="line">	fmt.Println(slice2)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//6.字符串不能修改</span></span><br><span class="line">	fmt.Println(s4)</span><br><span class="line">	<span class="comment">//s4[2] = 'B'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"strings"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	strings包下的关于字符串的函数</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	s1 := <span class="string">"helloworld"</span></span><br><span class="line">	<span class="comment">//1.是否包含指定的内容--&gt;bool</span></span><br><span class="line">	fmt.Println(strings.Contains(s1, <span class="string">"abc"</span>))</span><br><span class="line">	<span class="comment">//2.是否包含chars中任意的一个字符即可</span></span><br><span class="line">	fmt.Println(strings.ContainsAny(s1, <span class="string">"abcd"</span>))</span><br><span class="line">	<span class="comment">//3.统计substr在s中出现的次数</span></span><br><span class="line">	fmt.Println(strings.Count(s1, <span class="string">"lloo"</span>))</span><br><span class="line"></span><br><span class="line">	<span class="comment">//4.以xxx前缀开头，以xxx后缀结尾</span></span><br><span class="line">	s2 := <span class="string">"20190525课堂笔记.txt"</span></span><br><span class="line">	<span class="keyword">if</span> strings.HasPrefix(s2, <span class="string">"201905"</span>) &#123;</span><br><span class="line">		fmt.Println(<span class="string">"19年5月的文件。。"</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> strings.HasSuffix(s2, <span class="string">".txt"</span>) &#123;</span><br><span class="line">		fmt.Println(<span class="string">"文本文档。。"</span>)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//索引</span></span><br><span class="line">	<span class="comment">//helloworld</span></span><br><span class="line">	fmt.Println(strings.Index(s1, <span class="string">"lloo"</span>))     <span class="comment">//查找substr在s中的位置，如果不存在就返回-1</span></span><br><span class="line">	fmt.Println(strings.IndexAny(s1, <span class="string">"abcdh"</span>)) <span class="comment">//查找chars中任意的一个字符，出现在s中的位置</span></span><br><span class="line">	fmt.Println(strings.LastIndex(s1, <span class="string">"l"</span>))    <span class="comment">//查找substr在s中最后一次出现的位置</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//字符串的拼接</span></span><br><span class="line">	ss1 := []<span class="keyword">string</span>&#123;<span class="string">"abc"</span>,<span class="string">"world"</span>,<span class="string">"hello"</span>,<span class="string">"ruby"</span>&#125;</span><br><span class="line">	s3 := strings.Join(ss1,<span class="string">"-"</span>)</span><br><span class="line">	fmt.Println(s3)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//切割</span></span><br><span class="line">	s4 := <span class="string">"123,4563,aaa,49595,45"</span></span><br><span class="line">	ss2 := strings.Split(s4,<span class="string">","</span>)</span><br><span class="line">	<span class="comment">//fmt.Println(ss2)</span></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>;i&lt;<span class="built_in">len</span>(ss2);i++&#123;</span><br><span class="line">		fmt.Println(ss2[i])</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//重复，自己拼接自己count次</span></span><br><span class="line">	s5 :=strings.Repeat(<span class="string">"hello"</span>,<span class="number">5</span>)</span><br><span class="line">	fmt.Println(s5)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//替换</span></span><br><span class="line">	<span class="comment">//helloworld</span></span><br><span class="line">	s6 := strings.Replace(s1,<span class="string">"l"</span>,<span class="string">"*"</span>,<span class="number">-1</span>)</span><br><span class="line">	fmt.Println(s6)</span><br><span class="line">	<span class="comment">//fmt.Println(strings.Repeat("hello",5))</span></span><br><span class="line"></span><br><span class="line">	s7:=<span class="string">"heLLo WOrlD**123.."</span></span><br><span class="line">	fmt.Println(strings.ToLower(s7))</span><br><span class="line">	fmt.Println(strings.ToUpper(s7))</span><br><span class="line"></span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	截取子串：</span></span><br><span class="line"><span class="comment">	substring(start,end)--&gt;substr</span></span><br><span class="line"><span class="comment">	str[start:end]--&gt;substr</span></span><br><span class="line"><span class="comment">		包含start，不包含end下标</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	 fmt.Println(s1)</span><br><span class="line">	 s8 := s1[:<span class="number">5</span>]</span><br><span class="line">	 fmt.Println(s8)</span><br><span class="line">	 fmt.Println(s1[<span class="number">5</span>:])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"strconv"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	strconv包：字符串和基本类型之前的转换</span></span><br><span class="line"><span class="comment">		string convert</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="comment">//fmt.Println("aa"+100)</span></span><br><span class="line">	<span class="comment">//1.bool类型</span></span><br><span class="line">	s1 := <span class="string">"true"</span></span><br><span class="line">	b1,err := strconv.ParseBool(s1)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span>&#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Printf(<span class="string">"%T,%t\n"</span>,b1,b1)</span><br><span class="line"></span><br><span class="line">	ss1 := strconv.FormatBool(b1)</span><br><span class="line">	fmt.Printf(<span class="string">"%T,%s\n"</span>,ss1,ss1)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//2.整数</span></span><br><span class="line">	s2 := <span class="string">"100"</span></span><br><span class="line">	i2,err := strconv.ParseInt(s2,<span class="number">2</span>,<span class="number">64</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span>&#123;</span><br><span class="line">		fmt.Println(err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Printf(<span class="string">"%T,%d\n"</span>,i2,i2)</span><br><span class="line"></span><br><span class="line">	ss2 := strconv.FormatInt(i2,<span class="number">10</span>)</span><br><span class="line">	fmt.Printf(<span class="string">"%T,%s\n"</span>,ss2,ss2)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//itoa(),atoi()</span></span><br><span class="line">	i3,err := strconv.Atoi(<span class="string">"-42"</span>) <span class="comment">//转为int类型</span></span><br><span class="line">	fmt.Printf(<span class="string">"%T,%d\n"</span>,i3,i3)</span><br><span class="line">	ss3:=strconv.Itoa(<span class="number">-42</span>)</span><br><span class="line">	fmt.Printf(<span class="string">"%T,%s\n"</span>,ss3,ss3)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="http://nlbyd1119.online/2020/06/20/go-study-3/" title="go-study-3" target="_blank" rel="external">http://nlbyd1119.online/2020/06/20/go-study-3/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/nlby" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.jpg" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/nlby" target="_blank"><span class="text-dark">nlby</span><small class="ml-1x"></small></a></h3>
        <div></div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    <div id="git"></div>
<link rel="stylesheet" href="https://billts.site/extra_css/gitment.css">
<script src="https://billts.site/js/gitment.js"></script>
<script>
var gitment = new Gitment({
  id: window.decodeURIComponent(window.location.pathname),
  owner: 'nlby',
  repo: 'nlbyvh.github.io',
  oauth: {
    client_id: '6d53a92df707fc123e7a',
    client_secret: '2bd9e28afe88cb142fa8fa7092c9a8c20ae25555',
  },
})
gitment.render('git')
</script>
  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2020/06/23/go-study-4/" title="go-study-4"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;Newer</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2020/06/19/go-study-2/" title="go-study-2"><span>Older&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
  </ul>
  
  
  
  <div class="bar-right">
    
  </div>
  </div>
</nav>
  


</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	

    <div class="copyright">
    	
    </div>
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>






   




   
    
<script src="//cdn.jsdelivr.net/npm/gitment@0.0.3/dist/gitment.browser.min.js"></script>
<script>
var gitment = new Gitment({
  // id默认为当前页面url，如果url后带参数或锚点，gitment要重新初始化
  // https://github.com/imsun/gitment/issues/55
  // 解决方案：id:window.location.pathname,或者将id设置为当前页面标题
  id: 'go-study-3', 
  owner: 'nlby', // 可以是你的GitHub用户名，也可以是github id
  repo: 'nlbyvh.github.io',
  oauth: {
    client_id: '6d53a92df707fc123e7a',
    client_secret: '2bd9e28afe88cb142fa8fa7092c9a8c20ae25555',
  }
})
gitment.render('comments')
</script>









<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/assets/violet.model.json"},"display":{"position":"left","width":180,"height":360},"mobile":{"show":true},"log":false});</script></body>
</html>